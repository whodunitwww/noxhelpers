return function(a)local b=getgenv()b.CerberusConsentAccepted=b.CerberusConsentAccepted or Instance.new("BindableEvent")b.CERBERUS_CONSENT_OK=b.CERBERUS_CONSENT_OK or false;local c={title="CERBERUS",subtitle="General-use features across all games",message="I understand this script is not for any game in particular and only has a wide variety of general features useful in all games.",paidNote="Note: game-specific features require a paid key.",folder="Cerberus",consentFile="Cerberus/consent.json",size=Vector2.new(700,360)}if typeof(a)=="table"then for d,e in pairs(a)do c[d]=e end end;local f={primary=Color3.fromRGB(90,255,140),secondary=Color3.fromRGB(45,200,100),background=Color3.fromRGB(15,20,25),dark=Color3.fromRGB(10,12,16),text=Color3.fromRGB(245,250,255),textMuted=Color3.fromRGB(190,205,230),textBody=Color3.fromRGB(215,230,225),buttonAlt=Color3.fromRGB(30,36,46),buttonHover=Color3.fromRGB(36,44,56)}local g=game:GetService("Players")local h=game:GetService("HttpService")local i=game:GetService("RunService")local j=game:GetService("UserInputService")local k=typeof(isfile)=="function"and typeof(writefile)=="function"and typeof(makefolder)=="function"and typeof(isfolder)=="function"local function l(m)if k and not isfolder(m)then pcall(makefolder,m)end end;local function n()if k and isfile(c.consentFile)then local o,p=pcall(readfile,c.consentFile)if o and p and p~=""then local q,r=pcall(h.JSONDecode,h,p)if q and r and r.accepted==true then return true end end end;return false end;local function s()if k then l(c.folder)local t={accepted=true,timestamp=os.time(),version=1}local o,u=pcall(h.JSONEncode,h,t)if o then pcall(writefile,c.consentFile,u)end end;b.__CERB_SESSION_ACCEPTED=true end;if n()then b.CERBERUS_CONSENT_OK=true;task.defer(function()b.CerberusConsentAccepted:Fire()if typeof(_G.on_cerberus_consent_done)=="function"then pcall(_G.on_cerberus_consent_done,true)end end)return true end;local function v()local w=game:GetService("CoreGui")if pcall(function()Instance.new("ScreenGui").Parent=w end)then return w end;return g.LocalPlayer:WaitForChild("PlayerGui")end;local function x()local y=workspace.CurrentCamera;local z=y and y.ViewportSize or Vector2.new(1280,720)return math.clamp(math.min(z.X,z.Y)/1000,0.92,1.25)end;local A=v()local B=Instance.new("ScreenGui")B.Name="Cerberus_Consent"B.IgnoreGuiInset=true;B.DisplayOrder=9e6;B.ResetOnSpawn=false;B.ZIndexBehavior=Enum.ZIndexBehavior.Global;B.Parent=A;local C=Instance.new("UIScale",B)C.Scale=x()if workspace.CurrentCamera then workspace.CurrentCamera:GetPropertyChangedSignal("ViewportSize"):Connect(function()C.Scale=x()end)end;local D=Instance.new("Frame",B)D.Size=UDim2.fromScale(1,1)D.BackgroundColor3=f.background;D.BackgroundTransparency=0.35;D.ZIndex=1;local E=Instance.new("Frame",B)E.AnchorPoint=Vector2.new(0.5,0.5)E.Position=UDim2.fromScale(0.5,0.5)E.Size=UDim2.fromOffset(c.size.X,c.size.Y)E.BackgroundColor3=Color3.fromRGB(20,24,30)E.ZIndex=2;local F=Instance.new("UICorner",E)F.CornerRadius=UDim.new(0,16)local G=Instance.new("UIStroke",E)G.Color=f.primary;G.Thickness=1.25;G.Transparency=0.4;local H=Instance.new("Frame",E)H.Size=UDim2.fromScale(1,1)H.BackgroundColor3=f.dark;H.BackgroundTransparency=0.06;H.ZIndex=3;local I=Instance.new("UICorner",H)I.CornerRadius=UDim.new(0,16)local J=Instance.new("TextLabel",H)J.BackgroundTransparency=1;J.Font=Enum.Font.GothamBlack;J.Text=c.title;J.TextSize=34;J.TextColor3=f.text;J.Position=UDim2.fromOffset(70,28)J.Size=UDim2.fromOffset(c.size.X-140,38)J.ZIndex=5;local K=Instance.new("UIStroke",J)K.Color=f.background;K.Thickness=2;K.Transparency=0.5;local L=Instance.new("TextLabel",H)L.BackgroundTransparency=1;L.Font=Enum.Font.Gotham;L.Text=c.subtitle;L.TextSize=20;L.TextColor3=f.textMuted;L.Position=UDim2.fromOffset(70,72)L.Size=UDim2.fromOffset(c.size.X-140,28)L.ZIndex=5;local M=Instance.new("TextLabel",H)M.BackgroundTransparency=1;M.Font=Enum.Font.Gotham;M.TextWrapped=true;M.TextXAlignment=Enum.TextXAlignment.Left;M.TextYAlignment=Enum.TextYAlignment.Top;M.LineHeight=1.08;M.Text=c.message;M.TextSize=17;M.TextColor3=f.textBody;M.Position=UDim2.fromOffset(70,106)M.Size=UDim2.fromOffset(c.size.X-140,90)M.ZIndex=5;local N=Instance.new("TextLabel",H)N.BackgroundTransparency=1;N.Font=Enum.Font.Gotham;N.RichText=true;N.Text="<i>"..c.paidNote.."</i>"N.TextSize=15;N.TextColor3=f.primary;N.TextXAlignment=Enum.TextXAlignment.Left;N.Position=UDim2.fromOffset(70,204)N.Size=UDim2.fromOffset(c.size.X-140,24)N.ZIndex=5;local function O(P,Q,R)local S=Instance.new("TextButton",H)S.AutoButtonColor=false;S.Font=Enum.Font.GothamBold;S.Text=P;S.TextSize=16;S.Size=UDim2.fromOffset(260,46)S.Position=R;S.ZIndex=6;if Q then S.BackgroundColor3=f.primary;S.TextColor3=f.background;local T=Instance.new("UIStroke",S)T.Color=f.primary;T.Transparency=0.55 else S.BackgroundColor3=f.buttonAlt;S.TextColor3=Color3.fromRGB(225,240,235)local T=Instance.new("UIStroke",S)T.Color=f.primary;T.Transparency=0.72 end;Instance.new("UICorner",S).CornerRadius=UDim.new(0,12)S.MouseEnter:Connect(function()if Q then S.BackgroundColor3=f.secondary else S.BackgroundColor3=f.buttonHover end end)S.MouseLeave:Connect(function()if Q then S.BackgroundColor3=f.primary else S.BackgroundColor3=f.buttonAlt end end)return S end;local U=O("Accept",true,UDim2.fromOffset(100,264))local V=O("Exit",false,UDim2.fromOffset(c.size.X-100-260,264))J.TextTransparency=0;L.TextTransparency=0;M.TextTransparency=0;N.TextTransparency=0;U.Visible,V.Visible=true,true;local W=Instance.new("BindableEvent")local X=false;local function Y()if B and B.Parent then B:Destroy()end end;local function Z()if X then return end;X=true;s()b.CERBERUS_CONSENT_OK=true;task.defer(function()b.CerberusConsentAccepted:Fire()if typeof(_G.on_cerberus_consent_done)=="function"then pcall(_G.on_cerberus_consent_done,true)end end)Y()W:Fire(true)end;local function _()if X then return end;X=true;b.CERBERUS_ABORTED=true;task.defer(function()if typeof(_G.on_cerberus_consent_done)=="function"then pcall(_G.on_cerberus_consent_done,false)end end)Y()W:Fire(false)end;U.MouseButton1Click:Connect(Z)V.MouseButton1Click:Connect(_)local a0;a0=j.InputBegan:Connect(function(a1,a2)if a2 or X then return end;if a1.KeyCode==Enum.KeyCode.Escape then _()if a0 then a0:Disconnect()a0=nil end end end)do local a3=tick()i.Heartbeat:Connect(function()if not E.Parent then return end;local a4=tick()-a3;E.Position=UDim2.fromScale(0.5,0.5)+UDim2.fromOffset(0,math.sin(a4*1.6)*0.8)G.Thickness=1.2+math.abs(math.sin(a4*2.0))*0.6 end)end;local a5=W.Event:Wait()return a5==true end
