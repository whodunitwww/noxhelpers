return function(a)local b=a.Services;local c=a.Tabs;local d=a.References;local e=a.Library;local f=a.Options;local g=a.Toggles;local h=a.META or{}local i=a.copyLink;local j=a.SendDiscordWebhook;local k={}local function l(m)if m then k[#k+1]=m end;return m end;local n,o;local p,q;local r=c.Home:AddLeftGroupbox("About "..(h.name or"Cerberus"),"info")r:AddDivider()r:AddLabel(("Script Version: %s"):format(h.version or"v1.0.0"))r:AddLabel(("Last Updated: %s"):format(h.updated or"Unknown"))r:AddLabel("Status: "..(h.status or"Stable Release"))r:AddDivider()local s=h.urls or{}local t=c.Home:AddLeftGroupbox("Links","link")if i and s.docs then t:AddButton({Text="Cerberus Docs",Tooltip=s.docs,Func=function()i(s.docs,"Docs link copied!")end})end;if i and s.website then t:AddButton({Text="Website",Tooltip=s.website,Func=function()i(s.website,"Website link copied!")end})end;if i and s.discord then t:AddButton({Text="Discord",Tooltip=s.discord,Func=function()i(s.discord,"Discord invite copied!")end})end;if i and s.youtube then t:AddButton({Text="Youtube",Tooltip=s.youtube,Func=function()i(s.youtube,"Youtube link copied!")end})end;if i and s.scripts then t:AddButton({Text="More Scripts",Tooltip=s.scripts,Func=function()i(s.scripts,"Scripts link copied!")end})end;if i and s.bunni then t:AddButton({Text="Premier Executor",Tooltip=s.bunni,Func=function()i(s.bunni,"Bunni link copied!")end})end;local u=c.Home:AddLeftGroupbox("Executor","codesandbox")local function v()local function w(x)local y=string.find(x,".",1,true)if y then local z,A=x:sub(1,y-1),x:sub(y+1)local B;if getgenv then B=rawget(getgenv(),z)end;if B==nil then B=rawget(_G,z)end;if B==nil and getrenv then B=rawget(getrenv(),z)end;if type(B)=="table"then return rawget(B,A)end;return nil end;local C;if getgenv then C=rawget(getgenv(),x)end;if C==nil then C=rawget(_G,x)end;if C==nil and getrenv then C=rawget(getrenv(),x)end;return C end;local D={"makefolder","isfile","readfile","writefile","sethiddenproperty","setclipboard","identifyexecutor","setfpscap","gethui","server_desync","http_request","request","syn.request"}local E,F=#D,0;local G={}for H=1,E do local x=D[H]local C=w(x)local I=x=="gethui"and C~=nil or type(C)=="function"if I then F=F+1 else G[#G+1]=x end end;local J=tostring(d.executorName or""):lower()local K=J:find("xeno",1,true)~=nil;local L;if F==E then if K then local M="Xeno detected: ESP will not work due to weak drawing API."e:Notify(M,6)L=M else L="Full support"end else local N=string.format("Your executor does not fully support this script, %d/%d required functions available.\nMissing: %s",F,E,table.concat(G,", "))e:Notify(N,6)L=string.format("Partial support: %d/%d required functions.",F,E)if K then L=L.."\nNote: ESP will not work due to weak drawing API (Xeno)."e:Notify("Xeno detected: ESP will not work due to weak drawing API.",6)end end;return L end;u:AddLabel("Executor: "..tostring(d.executorName or"Unknown"),true)u:AddLabel(v(),true)local O=b.Players or game:GetService("Players")local P=b.RunService or game:GetService("RunService")local Q=b.HttpService;local R=O.LocalPlayer;local S={WebhookURL="",WebhookColor=Color3.fromRGB(54,150,45),WebhookAnon=false,WH_EventSelection={}}local function T(U)if typeof(U)~="Color3"then return{r=54,g=150,b=45}end;return{r=math.floor(U.R*255+0.5),g=math.floor(U.G*255+0.5),b=math.floor(U.B*255+0.5)}end;local function V(C)if typeof(C)=="Color3"then return C end;if type(C)=="table"and tonumber(C.r)and tonumber(C.g)and tonumber(C.b)then return Color3.fromRGB(C.r,C.g,C.b)end;return Color3.fromRGB(54,150,45)end;local function W(X)if type(X)~="table"then return{}end;local Y,Z={},{}for A,_ in pairs(X)do if _==true then if not Z[A]then table.insert(Y,A)Z[A]=true end elseif type(_)=="string"then if not Z[_]then table.insert(Y,_)Z[_]=true end end end;return Y end;if isfile and isfile(d.gameDir.."/__WebhookDefaults.json")then local I,a0=pcall(function()return Q:JSONDecode(readfile(d.gameDir.."/__WebhookDefaults.json"))end)if I and type(a0)=="table"then S.WebhookURL=a0.WebhookURL or S.WebhookURL;S.WebhookColor=V(a0.WebhookColor)S.WebhookAnon=a0.WebhookAnon or S.WebhookAnon;S.WH_EventSelection=W(a0.WH_EventSelection or S.WH_EventSelection)end end;local a1="Launch"local a2="InventoryChange"local a3="Chat"local a4="PlayerJoinLeave"local a5={a1,a2,a3,a4}local a6=c.Home:AddLeftGroupbox("Webhook","send")a6:AddInput("WebhookURL",{Text="Default Webhook",Default=S.WebhookURL,Placeholder="https://discord.com/api/webhooks/...",ClearTextOnFocus=false})a6:AddLabel("Default Color"):AddColorPicker("WebhookColor",{Title="Default Color",Default=S.WebhookColor,Transparency=0})a6:AddToggle("WebhookAnon",{Text="Anonymize User Data",Default=S.WebhookAnon})a6:AddDropdown("WH_EventSelection",{Text="Reported Events",Values=a5,Default=S.WH_EventSelection,Multi=true,Tooltip="Select which events you want to send to your webhook."})local function a7()local U=f.WebhookColor and f.WebhookColor.Value or Color3.fromRGB(54,150,45)local a8,a9,aa=math.floor(U.R*255),math.floor(U.G*255),math.floor(U.B*255)return a8*65536+a9*256+aa end;local function ab(ac)local ad=f.WH_EventSelection and f.WH_EventSelection.Value;if type(ad)~="table"then return false end;if ad[ac]==true then return true end;for ae,C in pairs(ad)do if C==ac then return true end end;return false end;local af=false;local function ag(ac,ah,ai,aj,ak,al)local am=f.WebhookURL and f.WebhookURL.Value or""if not am:match("https://discord.com/api/webhooks/")then if not af then af=true end;return end;if not ab(ac)then return end;local an=ak or a7 and a7()or 3577389;local ao=g.WebhookAnon and g.WebhookAnon.Value or false;local ap=aj or"Cerberus Webhook"task.spawn(function()pcall(j,am,ah,ai,ap,an,al,ao)end)end;do local function aq()if not writefile then return end;local a0={WebhookURL=f.WebhookURL and f.WebhookURL.Value or"",WebhookColor=T(f.WebhookColor and f.WebhookColor.Value or S.WebhookColor),WebhookAnon=g.WebhookAnon and g.WebhookAnon.Value or false,WH_EventSelection=W(f.WH_EventSelection and f.WH_EventSelection.Value)}pcall(function()writefile(d.gameDir.."/__WebhookDefaults.json",Q:JSONEncode(a0))end)end;if not(isfile and isfile(d.gameDir.."/__WebhookDefaults.json"))then aq()end;for ae,ar in ipairs({"WebhookURL","WebhookColor","WH_EventSelection"})do if f[ar]then f[ar]:OnChanged(aq)end end;if g.WebhookAnon then g.WebhookAnon:OnChanged(aq)end end;do local function as(at)if not at then return"Unknown"end;local au=at.DisplayName or at.Name;if au~=at.Name then return string.format("%s (%s)",au,at.Name)end;return at.Name end;n={}p=os.clock()local av=10;local aw=20;local ax=1900;local function ay()if not ab(a3)then n={}return end;if#n==0 then return end;local az={}local aA=0;local aB=0;local function aC()if#az==0 then return end;local aD=table.concat(az,"\n")ag(a3,"Chat Log",aD)az={}aA=0;aB=0 end;for ae,aE in ipairs(n)do local aF=#aE+1;if aB>=aw or aA+aF>ax then aC()end;table.insert(az,aE)aA=aA+aF;aB=aB+1 end;aC()n={}end;local function aG(at)if not at then return end;l(at.Chatted:Connect(function(N)if not ab(a3)then return end;N=tostring(N or"")if#N>256 then N=N:sub(1,253).."..."end;local aE=string.format("**%s**: %s",as(at),N)table.insert(n,aE)end))end;for ae,at in ipairs(O:GetPlayers())do aG(at)end;l(O.PlayerAdded:Connect(function(at)aG(at)end))l(O.PlayerAdded:Connect(function(at)if at==R then return end;if not ab(a4)then return end;local aD=string.format("**%s** joined the server.",as(at))ag(a4,"Player Joined",aD)end))l(O.PlayerRemoving:Connect(function(at)if at==R then return end;if not ab(a4)then return end;local aD=string.format("**%s** left the server.",as(at))ag(a4,"Player Left",aD)end))local aH={backpack={},character={}}o={}q=os.clock()local aI=15;local aJ=40;local aK=1900;local function aL(aM,aN)if not aM then return end;for ae,aO in ipairs(aM:GetChildren())do if aO:IsA("Tool")or aO:IsA("Accoutrement")or aO:IsA("Accessory")then aN[aO.Name]=(aN[aO.Name]or 0)+1 end end end;local function aP()local aQ={backpack={},character={}}local aR=R and R:FindFirstChildOfClass("Backpack")or nil;aL(aR,aQ.backpack)local aS=R and R.Character or nil;aL(aS,aQ.character)return aQ end;local function aT(aU,aV,aW,aX)for x,aY in pairs(aV)do local aZ=aU[x]or 0;if aY>aZ then table.insert(aX,string.format("+ %dx %s (%s)",aY-aZ,x,aW))end end;for x,aZ in pairs(aU)do local aY=aV[x]or 0;if aY<aZ then table.insert(aX,string.format("- %dx %s (%s)",aZ-aY,x,aW))end end end;local function a_()local b0=aH;local b1=aP()local b2={}aT(b0.backpack,b1.backpack,"Backpack",b2)aT(b0.character,b1.character,"Character",b2)aH=b1;if not ab(a2)then return end;if#b2==0 then return end;for H,aE in ipairs(b2)do if H>aJ then table.insert(o,string.format("... %d more change(s)",#b2-aJ))break end;table.insert(o,aE)end end;local function b3()aH=aP()local function b4(aS)if not aS then return end;l(aS.ChildAdded:Connect(a_))l(aS.ChildRemoved:Connect(a_))end;if R then local aR=R:FindFirstChildOfClass("Backpack")or R:WaitForChild("Backpack",5)if aR then l(aR.ChildAdded:Connect(a_))l(aR.ChildRemoved:Connect(a_))end;if R.Character then b4(R.Character)end;l(R.CharacterAdded:Connect(function(aS)task.delay(0.5,function()b4(aS)aH=aP()end)end))end end;b3()local function b5()if not ab(a2)then o={}return end;if#o==0 then return end;local b6={}table.insert(b6,string.format("**%s** inventory changes:",as(R)))local b7={"```diff"}for H,b8 in ipairs(o)do if H>aJ then table.insert(b7,string.format("# ... %d more change(s)",#o-aJ))break end;table.insert(b7,b8)end;table.insert(b7,"```")local aD=table.concat(b6,"\n").."\n"..table.concat(b7,"\n")if#aD>aK then aD=aD:sub(1,aK-3).."..."end;ag(a2,"Inventory Changes",aD)o={}end;l(P.Heartbeat:Connect(function()local b9=os.clock()if b9-p>=av then p=b9;ay()end;if b9-q>=aI then q=b9;b5()end end))end;local ba=c.Home:AddRightGroupbox("Latest Updates","sparkles")ba:AddLabel("Changelogs:",true)local bb=h.changelog or{"Added Auto Proximity Prompt","Added Zoom","Added Custom Cursor Builder","Added Emotes","Improved ESP"}ba:AddLabel("• "..table.concat(bb,"\n• "),true)local bc=c.Home:AddRightGroupbox("Feedback","quote")local bd=false;bc:AddInput("feedbackTextbox",{Text="Message",Default=nil,Numeric=false,Finished=false,ClearTextOnFocus=true,Placeholder="Write a message to the dev team here.",Callback=function(ae)end})bc:AddButton("Send Feedback",function()if bd then e:Notify("You've already sent feedback, you can come back another time and send some more later.",5)return end;local N=f.feedbackTextbox and f.feedbackTextbox.Value;if N and N~=""then if j then j("https://discord.com/api/webhooks/1430125097129214003/mHA_d9XyFaRTfGM9Enf7jZgso358XRmmCFiuwGs6ZO-vws0qPdRLKQH19zRWJ5kZC7hW",d.player.Name.." has provided feedback.",N,"Cerberus Feedback",nil,nil,false)e:Notify("Your feedback has successfully been sent to the developers!",5)bd=true else e:Notify("Feedback webhook function not available.",3)end else e:Notify("You need to type your feedback into the box above before you can send it.",3)end end)local be=c.Home:AddRightGroupbox("Credits + Disclaimer","shield-alert")be:AddLabel("Script by @tevilii")be:AddLabel("Obsidian UI Library by deivid")if i and s.obsidian then be:AddButton({Text="Obsidian Library",Tooltip=s.obsidian,Func=function()i(s.obsidian,"Obsidian link copied!")end})end;be:AddDivider()be:AddLabel("This script is provided for educational and customization purposes. ".."Respect Roblox and game TOS. You are responsible for your usage.",true)ag("Launch","Cerberus Initialized",string.format("**Join Script:**\n```lua\ngame:GetService(\"TeleportService\"):TeleportToPlaceInstance(%d, \"%s\", game.Players.LocalPlayer)```%s",game.PlaceId,game.JobId,math.random(1,5)==1 and"\n*Join our Discord for the best scripts! https://getcerberus.com/discord*"or""))local bf={}function bf.Unload()for H,m in ipairs(k)do if m and m.Disconnect then pcall(function()m:Disconnect()end)end;k[H]=nil end;if n then table.clear(n)end;if o then table.clear(o)end;local b9=os.clock()p=b9;q=b9 end;return bf end
