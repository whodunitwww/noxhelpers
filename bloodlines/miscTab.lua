return function(a)local b=a.Services;local c=a.Tabs;local d=a.References;local e=a.Library;local f=a.Options;local g=a.Toggles;local h=a.LPH_NO_VIRTUALIZE or function(i)return i end;local j=c.Misc:AddRightGroupbox("Console","code")j:AddButton({Text="Console",Func=function()e:Notify("Launched console.",3)loadstring(game:HttpGet("https://raw.githubusercontent.com/whodunitwww/noxhelpers/refs/heads/main/console.lua"))()end})local k=c.Misc:AddRightGroupbox("Performance HUD","gauge")local l={gui=nil,conn=nil,fpsSmooth=60,scale=1}local function m()local n,o=pcall(function()return rawget(getfenv(),"gethui")and gethui()or b.CoreGui or game:GetService("CoreGui")end)return n and o or b.Players.LocalPlayer:WaitForChild("PlayerGui")end;local function p()if l.conn then l.conn:Disconnect()l.conn=nil end;if l.gui then l.gui:Destroy()l.gui=nil end end;local function q()p()local r=m()local s=Instance.new("ScreenGui")s.Name="CerberusHUD"s.ResetOnSpawn=false;s.IgnoreGuiInset=true;s.ZIndexBehavior=Enum.ZIndexBehavior.Sibling;s.Parent=r;l.gui=s;local t=Instance.new("Frame")t.Name="Holder"t.AnchorPoint=Vector2.new(1,0)t.Position=UDim2.new(1,-20,0,20)t.Size=UDim2.fromOffset(320,100)t.BackgroundColor3=Color3.fromRGB(29,30,36)t.BackgroundTransparency=0.05;t.Active=true;t.Parent=s;local u=Instance.new("UICorner",t)u.CornerRadius=UDim.new(0,18)local v=Instance.new("UIStroke",t)v.Thickness=2;v.Transparency=0.3;v.Color=Color3.fromRGB(92,94,104)local w=Instance.new("ImageLabel")w.Name="Shadow"w.BackgroundTransparency=1;w.Image="rbxassetid://5028857084"w.ImageTransparency=0.6;w.ScaleType=Enum.ScaleType.Slice;w.SliceCenter=Rect.new(24,24,276,276)w.Size=UDim2.new(1,24,1,24)w.Position=UDim2.new(0,-12,0,-12)w.ZIndex=0;w.Parent=t;local x=Instance.new("Frame")x.Name="Left"x.BackgroundTransparency=1;x.Size=UDim2.new(0.65,0,1,-20)x.Position=UDim2.new(0,20,0,10)x.Parent=t;local y=Instance.new("UIListLayout",x)y.FillDirection=Enum.FillDirection.Vertical;y.VerticalAlignment=Enum.VerticalAlignment.Center;y.Padding=UDim.new(0,12)local function z(A)local i=Instance.new("Frame")i.BackgroundTransparency=1;i.Size=UDim2.new(1,0,0,34)local B=Instance.new("TextLabel")B.Name="Title"B.BackgroundTransparency=1;B.Font=Enum.Font.Gotham;B.Text=A;B.TextColor3=Color3.fromRGB(172,175,185)B.TextSize=16;B.TextXAlignment=Enum.TextXAlignment.Left;B.Size=UDim2.new(0.5,0,1,0)B.Parent=i;local C=Instance.new("TextLabel")C.Name="Value"C.BackgroundTransparency=1;C.Font=Enum.Font.GothamSemibold;C.Text="--"C.TextColor3=Color3.fromRGB(238,239,244)C.TextSize=28;C.TextXAlignment=Enum.TextXAlignment.Left;C.Position=UDim2.new(0.5,0,0,0)C.Size=UDim2.new(0.5,0,1,0)C.Parent=i;return i,C end;local D,E=z("FPS")D.Parent=x;local F,G=z("Ping")F.Parent=x;local H=Instance.new("ImageLabel")H.Name="Icon"H.BackgroundTransparency=1;H.AnchorPoint=Vector2.new(1,0.5)H.Position=UDim2.new(1,-24,0.5,0)H.Size=UDim2.fromOffset(56,56)H.Image="rbxassetid://136497541793809"H.ImageColor3=Color3.fromRGB(55,235,120)H.Parent=t;local I,J,K;t.InputBegan:Connect(function(L)if L.UserInputType==Enum.UserInputType.MouseButton1 or L.UserInputType==Enum.UserInputType.Touch then I,J,K=true,L.Position,t.Position;L.Changed:Connect(function()if L.UserInputState==Enum.UserInputState.End then I=false end end)end end)t.InputChanged:Connect(function(L)if I and(L.UserInputType==Enum.UserInputType.MouseMovement or L.UserInputType==Enum.UserInputType.Touch)then local M=L.Position-J;t.Position=UDim2.new(K.X.Scale,K.X.Offset+M.X,K.Y.Scale,K.Y.Offset+M.Y)end end)local N=game:GetService("Stats")local O=N and N.Network and N.Network.ServerStatsItem and N.Network.ServerStatsItem["Data Ping"]l.conn=b.RunService.RenderStepped:Connect(h(function(P)local Q=P>0 and 1/P or 60;l.fpsSmooth=l.fpsSmooth+(Q-l.fpsSmooth)*0.2;E.Text=string.format("%d",math.clamp(math.floor(l.fpsSmooth+0.5),1,1000))local R;if O and O.GetValue then local n,C=pcall(function()return O:GetValue()end)if n and type(C)=="number"then R=math.floor(C+0.5)end end;if not R and O and O.GetValueString then local n,S=pcall(function()return O:GetValueString()end)if n and type(S)=="string"then R=tonumber(S:match("(%d+)"))end end;G.Text=R and R.." ms"or"--"end))end;k:AddToggle("HUD_Enable",{Text="Show FPS + Ping",Tooltip="Can only show up to 60 fps",Default=false,Callback=function(T)if T then q()else p()end end})k:AddSlider("HUD_Scale",{Text="HUD Scale",Default=90,Min=70,Max=150,Rounding=0,Suffix="%",Callback=function(C)l.scale=C/100;if l.gui and l.gui:FindFirstChild("Holder")then local t=l.gui.Holder;t.Size=UDim2.fromOffset(320*l.scale,100*l.scale)for U,V in ipairs(t:GetDescendants())do if V:IsA("TextLabel")then if V.Name=="Title"then V.TextSize=16*l.scale elseif V.Name=="Value"then V.TextSize=28*l.scale end end end end end})local W=c.Misc:AddRightGroupbox("Environment","trees")local X,Y=false,Color3.fromRGB(128,128,128)local Z=b.Lighting and b.Lighting.Ambient or Color3.new()local _,a0,a1=false,b.Lighting and b.Lighting.ClockTime or 12,nil;local function a2()if b.Lighting then b.Lighting.Ambient=X and Y or Z end end;W:AddToggle("ENV_Ambient",{Text="Custom Ambient",Default=false,Tooltip="Choose your own custom ambient color.",Callback=function(C)X=C;a2()end})W:AddLabel("Ambient Color"):AddColorPicker("ENV_AmbientColor",{Default=Y,Title="Ambient Color",Callback=function(a3)Y=a3;if X then a2()end end})W:AddToggle("ENV_TimeLock",{Text="Custom Time of Day",Default=false,Callback=function(T)_=T;if T then if b.Lighting then b.Lighting.ClockTime=a0 end;if not a1 then a1=b.RunService.RenderStepped:Connect(h(function()if b.Lighting then b.Lighting.ClockTime=a0 end end))end;e:Notify("Time of Day locked.",3)else if a1 then a1:Disconnect()a1=nil end;e:Notify("Time of Day unlocked.",3)end end})W:AddSlider("ENV_Time",{Text="Time of Day",Default=a0,Min=0,Max=24,Rounding=2,Suffix="h",Callback=function(C)a0=C;if _ and b.Lighting then b.Lighting.ClockTime=C end end})local function a4()if a1 then a1:Disconnect()a1=nil end;if b.Lighting then b.Lighting.Ambient=Z end end;local a5=c.Misc:AddRightGroupbox("Auto Chat","message-circle")local a6;local a7=false;a5:AddToggle("autoChatEnabled",{Text="Auto Chat",Default=false,Callback=function(a8)a7=a8;if a8 then task.spawn(function()while a7 do local a9=f.autoChatMessage.Value;local aa=tonumber(f.autoChatInterval.Value)or 5;if a9 and a9:match("%S")then local ab=game:GetService("TextChatService").TextChannels:FindFirstChild("RBXGeneral")if ab then pcall(function()ab:SendAsync(a9)end)end else e:Notify("Your message can't be empty.",3)a7=false;g.autoChatEnabled:SetValue(false)break end;task.wait(aa)end end)else end end})a5:AddInput("autoChatMessage",{Default="Hello Everyone!",Numeric=false,Finished=false,ClearTextOnFocus=true,Text="Message",Callback=function(ac)end})a5:AddSlider("autoChatInterval",{Text="Chat Interval (s)",Default=10,Min=1,Max=120,Rounding=1,Suffix="s",Callback=function(ac)end})local ad=b.TextChatService;local ae=b.CoreGui;local af=b.Players.LocalPlayer;local ag={enabled=false,selected={["Hide Own Name"]=false,["Hide Others Names"]=false,["Hide Own Skin"]=false,["Hide Others Skins"]=false},_cons={},_chatConn=nil,_legacyChatConns={},_uiLoop=nil,_uiScrub=nil,_nameDDT={},_skin={},_nameCache={},_descAddedConn=nil}local function ah(ai)return typeof(ai)=="Instance"and ai.Parent~=nil end;local function aj(ak)local a3=ak and ak.Character;if ah(a3)then return a3 end;return nil end;local function al(r,am)if not ah(r)then return nil end;local n,an=pcall(function()return r:FindFirstChildOfClass(am)end)if n and ah(an)then return an end;return nil end;local function ao(r,ap)if not ah(r)then return nil end;local n,an=pcall(function()return r:FindFirstChild(ap)end)if n and ah(an)then return an end;return nil end;local function aq(ar)local as=al(ar,"Humanoid")if as and as.Health>0 then return as end;return nil end;local function at(S)return S:gsub("([^%w])","%%%1")end;local function au(ak,av)local ar=aj(ak)local aw=aq(ar)if not aw then return end;local ax=ak.UserId;if av then if ag._nameDDT[ax]==nil then ag._nameDDT[ax]=aw.DisplayDistanceType end;aw.DisplayDistanceType=Enum.HumanoidDisplayDistanceType.None else aw.DisplayDistanceType=ag._nameDDT[ax]or Enum.HumanoidDisplayDistanceType.Viewer end end;local function ay(ak)if not ak then return end;local ax=ak.UserId;if not ag._nameCache[ax]then ag._nameCache[ax]={Name=ak.Name,Display=ak.DisplayName}end end;local function az(ak)ay(ak)pcall(function()ak.DisplayName="???"end)end;local function aA(ak)local aB=ag._nameCache[ak.UserId]if not aB then return end;pcall(function()ak.DisplayName=aB.Display end)end;local function aC()local aD={}local aE=ag.selected["Hide Own Name"]local aF=ag.selected["Hide Others Names"]if not(aE or aF)then return aD end;local function aG(aH)if aH and aH~=""then aD[aH]="???"end end;for U,aI in ipairs(b.Players:GetPlayers())do local aJ=aI==af;if aJ and aE or not aJ and aF then local ax=aI.UserId;local aK=ag._nameCache[ax]if aK then aG(aK.Name)aG(aK.Display)aG("@"..aK.Name)aG("@"..aK.Display)else aG(aI.Name)aG(aI.DisplayName)aG("@"..aI.Name)aG("@"..aI.DisplayName)end end end;return aD end;local function aL(aM,aD)if not aM or aM==""then return aM end;local aN=aM;for aO,aP in pairs(aD)do aN=aN:gsub(at(aO),aP)end;return aN end;local function aQ(aR,aD)if aR:IsA("TextLabel")or aR:IsA("TextButton")or aR:IsA("TextBox")then if aR.Text and#aR.Text>0 then local aS=aL(aR.Text,aD)if aS~=aR.Text then aR.Text=aS end end end end;local function aT()if ag._uiScrub then ag._uiScrub:Disconnect()end;local B=0;ag._uiScrub=b.RunService.RenderStepped:Connect(function(P)if not ag.enabled then return end;B=B+P;if B<0.25 then return end;B=0;local aD=aC()if next(aD)==nil then return end;local function aU(aV)if not ah(aV)then return end;for U,aW in ipairs(aV:GetDescendants())do if aW:IsA("TextLabel")or aW:IsA("TextButton")or aW:IsA("TextBox")then aQ(aW,aD)elseif aW:IsA("BillboardGui")then for U,aX in ipairs(aW:GetDescendants())do if aX:IsA("TextLabel")then aQ(aX,aD)end end end end end;aU(ae)if af and ah(af)then local aY=ao(af,"PlayerGui")if aY then aU(aY)end end end)if ag._descAddedConn then ag._descAddedConn:Disconnect()end;ag._descAddedConn=game.DescendantAdded:Connect(function(aZ)if not ag.enabled then return end;local aD=aC()if next(aD)==nil then return end;pcall(function()if aZ:IsA("TextLabel")or aZ:IsA("TextButton")or aZ:IsA("TextBox")then aQ(aZ,aD)elseif aZ:IsA("BillboardGui")then for U,aX in ipairs(aZ:GetDescendants())do if aX:IsA("TextLabel")then aQ(aX,aD)end end end end)end)end;local function a_()if ag._uiScrub then ag._uiScrub:Disconnect()end;ag._uiScrub=nil;if ag._descAddedConn then ag._descAddedConn:Disconnect()end;ag._descAddedConn=nil end;local function b0(ak)if not ak then return end;ag._skin[ak.UserId]=nil end;local function b1(ak,ar)if not(ak and ah(ar))then return end;local ax=ak.UserId;if ag._skin[ax]then return end;local b2={acc={},shirt=nil,pants=nil,tshirt=nil,colors=nil}for U,ai in ipairs(ar:GetChildren())do if ai:IsA("Accessory")then table.insert(b2.acc,ai)end end;b2.shirt=al(ar,"Shirt")b2.pants=al(ar,"Pants")b2.tshirt=al(ar,"ShirtGraphic")local b3=al(ar,"BodyColors")if b3 then b2.colors={Head=b3.HeadColor3,LA=b3.LeftArmColor3,RA=b3.RightArmColor3,LL=b3.LeftLegColor3,RL=b3.RightLegColor3,Torso=b3.TorsoColor3}end;ag._skin[ax]=b2 end;local function b4(ak)local ar=aj(ak)if not ar then return end;b1(ak,ar)for U,ai in ipairs(ar:GetChildren())do if ai:IsA("Accessory")and ah(ai)then ai.Parent=nil end end;local S=al(ar,"Shirt")local aI=al(ar,"Pants")local B=al(ar,"ShirtGraphic")if S then S.Parent=nil end;if aI then aI.Parent=nil end;if B then B.Parent=nil end;local b3=al(ar,"BodyColors")if b3 then local b5=Color3.fromRGB(130,130,130)pcall(function()b3.HeadColor3=b5;b3.LeftArmColor3=b5;b3.RightArmColor3=b5;b3.LeftLegColor3=b5;b3.RightLegColor3=b5;b3.TorsoColor3=b5 end)end end;local function b6(ak)local ar=aj(ak)if not ar then return end;local b2=ag._skin[ak.UserId]if not b2 then return end;if b2.shirt and b2.shirt.Parent==nil then b2.shirt.Parent=ar end;if b2.pants and b2.pants.Parent==nil then b2.pants.Parent=ar end;if b2.tshirt and b2.tshirt.Parent==nil then b2.tshirt.Parent=ar end;for U,b7 in ipairs(b2.acc)do if ah(b7)and b7.Parent==nil then b7.Parent=ar end end;local b3=al(ar,"BodyColors")if b3 and b2.colors then pcall(function()b3.HeadColor3=b2.colors.Head;b3.LeftArmColor3=b2.colors.LA;b3.RightArmColor3=b2.colors.RA;b3.LeftLegColor3=b2.colors.LL;b3.RightLegColor3=b2.colors.RL;b3.TorsoColor3=b2.colors.Torso end)end end;local function b8(ak)if not ag.enabled then return end;local aJ=ak==af;local b9=ag.selected["Hide Own Name"]local ba=ag.selected["Hide Others Names"]if aJ and b9 or not aJ and ba then az(ak)au(ak,true)else aA(ak)au(ak,false)end;local bb=ag.selected["Hide Own Skin"]local bc=ag.selected["Hide Others Skins"]if aJ and bb or not aJ and bc then b4(ak)else b6(ak)end end;local function bd()local function be(ak)aA(ak)au(ak,false)b6(ak)end;if af then be(af)end;for U,aI in ipairs(b.Players:GetPlayers())do if aI~=af then be(aI)end end end;local function bf()if not ag.enabled then bd()return end;if af then b8(af)end;for U,aI in ipairs(b.Players:GetPlayers())do if aI~=af then b8(aI)end end end;local function bg()if ag._chatConn then ag._chatConn:Disconnect()end;for U,a3 in ipairs(ag._legacyChatConns)do pcall(function()a3:Disconnect()end)end;ag._legacyChatConns={}ag._chatConn=nil;if ad and ad.ChatVersion==Enum.ChatVersion.TextChatService then ag._chatConn=ad.OnIncomingMessage:Connect(function(a9)if not(ag.enabled and a9)then return end;local bh=a9.TextSource;if not bh then return end;local ak=b.Players:GetPlayerByUserId(bh.UserId)if not ak then return end;local aJ=ak==af;local aE=ag.selected["Hide Own Name"]local aF=ag.selected["Hide Others Names"]if aJ and aE or not aJ and aF then local bi=Instance.new("TextChatMessageProperties")bi.PrefixText="???:"local aD=aC()bi.Text=aL(a9.Text or"",aD)return bi end end)return end;local bj=b.ReplicatedStorage;local bk=bj and ao(bj,"DefaultChatSystemChatEvents")if bk then local bl=ao(bk,"OnMessageDoneFiltering")if bl and bl.OnClientEvent then table.insert(ag._legacyChatConns,bl.OnClientEvent:Connect(function(bm)if not(ag.enabled and bm)then return end;local bn=bm.FromSpeaker;local ak=bn and b.Players:FindFirstChild(bn)if not ak then return end;local aJ=ak==af;local aE=ag.selected["Hide Own Name"]local aF=ag.selected["Hide Others Names"]if aJ and aE or not aJ and aF then bm.FromSpeaker="???"if bm.Message then local aD=aC()bm.Message=aL(bm.Message,aD)end;bm.ExtraData=bm.ExtraData or{}end end))end end end;local function bo()for U,a3 in ipairs(ag._cons)do pcall(function()a3:Disconnect()end)end;ag._cons={}if ag._chatConn then ag._chatConn:Disconnect()end;ag._chatConn=nil;for U,a3 in ipairs(ag._legacyChatConns)do pcall(function()a3:Disconnect()end)end;ag._legacyChatConns={}a_()end;local function bp()bo()table.insert(ag._cons,af.CharacterAdded:Connect(function()b0(af)task.defer(bf)end))table.insert(ag._cons,b.Players.PlayerAdded:Connect(function(ak)table.insert(ag._cons,ak.CharacterAdded:Connect(function()b0(ak)task.defer(function()b8(ak)end)end))if ak.Character then b0(ak)task.defer(function()b8(ak)end)end end))for U,ak in ipairs(b.Players:GetPlayers())do if ak~=af then table.insert(ag._cons,ak.CharacterAdded:Connect(function()b0(ak)task.defer(function()b8(ak)end)end))if ak.Character then b0(ak)task.defer(function()b8(ak)end)end end end;bg()aT()end;local bq=c.Misc:AddLeftGroupbox("Streamer Mode")local br={"Hide Own Name","Hide Others Names","Hide Own Skin","Hide Others Skins"}bq:AddDropdown("streamer_mode_options",{Text="Affects",Values=br,Multi=true,Default={},AllowNull=true,Callback=function(bs)for bt in pairs(ag.selected)do ag.selected[bt]=false end;if typeof(bs)=="table"then local bu=false;for bt,C in pairs(bs)do if type(C)=="boolean"then bu=true;if C and ag.selected[bt]~=nil then ag.selected[bt]=true end end end;if not bu then for U,C in ipairs(bs)do if ag.selected[C]~=nil then ag.selected[C]=true end end end end;if ag.enabled then bf()end end})bq:AddToggle("streamer_mode_toggle",{Text="Enable Streamer Mode",Default=false,Callback=function(T)ag.enabled=T;if T then e:Notify("Please open the roblox menu briefly for the best results.",3)bp()bf()else bf()bo()end end})local bv=c.Misc:AddLeftGroupbox("Spectate","view")local bw,bx,by,bz;local bA=bv:AddDropdown("SpectateTarget",{Values={},Default=nil,Multi=false,Text="Select Player"})bv:AddButton({Text="Refresh Players",Func=function()local B={}for U,bB in ipairs(b.Players:GetPlayers())do if bB~=d.player then B[#B+1]=bB.Name end end;bA:SetValues(B)end})local bC=bv:AddToggle("SpectateEnabled",{Text="Spectate Player",Default=false})local function bD()if bw then bw:Disconnect()bw=nil end;bx=nil;if d.humanoid then d.camera.CameraSubject=d.humanoid end end;local function bE(bF)bD()bx=bF;if not bx then return end;bw=b.RunService.RenderStepped:Connect(h(function()local ar=bx.Character;if ar and ar:FindFirstChild("Humanoid")then d.camera.CameraSubject=ar:FindFirstChild("Humanoid")else bD()bC:SetValue(false)end end))end;bC:OnChanged(function()if bC.Value then local ap=bA.Value;local bF=ap and b.Players:FindFirstChild(ap)if bF then bE(bF)else e:Notify("Select a player to spectate.",3)bC:SetValue(false)end else bD()end end)bA:OnChanged(function(ap)if bC.Value then local bF=ap and b.Players:FindFirstChild(ap)if bF then bE(bF)end end end)by=b.Players.PlayerAdded:Connect(function()local B={}for U,bB in ipairs(b.Players:GetPlayers())do if bB~=d.player then B[#B+1]=bB.Name end end;bA:SetValues(B)end)bz=b.Players.PlayerRemoving:Connect(function(bG)local B={}for U,bB in ipairs(b.Players:GetPlayers())do if bB~=d.player and bB~=bG then B[#B+1]=bB.Name end end;bA:SetValues(B)if bx==bG then bC:SetValue(false)end end)do local B={}for U,bB in ipairs(b.Players:GetPlayers())do if bB~=d.player then B[#B+1]=bB.Name end end;bA:SetValues(B)end;local bH={}function bH.Unload()p()a4()bD()if by then by:Disconnect()by=nil end;if bz then bz:Disconnect()bz=nil end;if g.SERVER_AutoHop and g.SERVER_AutoHop.Value then g.SERVER_AutoHop:SetValue(false)end;if stopServerAutoHop then stopServerAutoHop()end;a7=false;if g.autoChatEnabled and g.autoChatEnabled.Value then g.autoChatEnabled:SetValue(false)end;if ag.enabled then ag.enabled=false;pcall(bo)pcall(bd)end;if g.streamer_mode_toggle and g.streamer_mode_toggle.Value then g.streamer_mode_toggle:SetValue(false)end end end
