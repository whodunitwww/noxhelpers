return function(a)local b=a.Services;local c=a.Tabs;local d=a.References;local e=a.Library;local f=a.Options;local g=a.Toggles;local h=a.LPH_NO_VIRTUALIZE or function(i)return i end;local j={}local k=b.ReplicatedStorage:WaitForChild("Events"):WaitForChild("DataEvent")local function l(m,n)k:FireServer("ServerTeleport",n,14)end;local function o(p,q,r,m,s)local request=syn and syn.request or http_request or request or fluxus and fluxus.request or krnl and krnl.request;if not request then return false,"No HTTP request function available"end;m=tonumber(m)or game.PlaceId;s=s or 2;local t=game.JobId;local function u(v)local w=("https://games.roblox.com/v1/games/%d/servers/Public?sortOrder=Asc&limit=10"):format(m)if v and v~=""then w=w.."&cursor="..b.HttpService:UrlEncode(v)end;local x=request({Url=w,Method="GET",Headers={["Content-Type"]="application/json"}})if not x or not x.Success then return false,x and x.StatusMessage or"HTTP error"end;local y,z=pcall(b.HttpService.JSONDecode,b.HttpService,x.Body)if not y then return false,"JSON decode failed"end;return true,z end;local A={}local v=nil;local B=0;while B<s do local y,C=u(v)if not y then return false,C end;local D=C;if type(D.data)~="table"then break end;for E,F in ipairs(D.data)do local n=F.id;local G=F.playing or 0;local H=F.maxPlayers or 0;local I=F.ping or F.playerPing;if n~=t then local J=G<H;local K=true;if q then K=G<=q end;local L=true;if r then if I==nil then L=false else L=I<=r end end;if J and K and L then table.insert(A,{jobId=n,players=G,maxPlayers=H,ping=I or math.huge,raw=F})end end end;v=D.nextPageCursor;B=B+1;if not v or v==""then break end end;if#A==0 then return false,"No suitable servers found"end;if p=="lowest_player"then table.sort(A,function(M,N)if M.players==N.players then return M.ping<N.ping end;return M.players<N.players end)elseif p=="lowest_ping"then table.sort(A,function(M,N)if M.ping==N.ping then return M.players<N.players end;return M.ping<N.ping end)elseif p=="random"then math.randomseed(os.time()+#A)local O=math.random(1,#A)local P=A[O]local y,Q=pcall(function()l(m,P.jobId)end)if not y then return false,"Teleport failed: "..tostring(Q)end;return true,"Teleporting to random server"else table.sort(A,function(M,N)if M.ping==N.ping then return M.players<N.players end;return M.ping<N.ping end)end;local P=A[1]local y,Q=pcall(function()l(m,P.jobId)end)if not y then return false,"Teleport failed: "..tostring(Q)end;return true,"Teleporting to server "..tostring(P.jobId)end;local R=c.Misc:AddLeftGroupbox("Server Panel","server")R:AddSlider("SERVER_MaxPlayers",{Text="Max Player Count",Min=1,Max=50,Default=20,Rounding=0})R:AddSlider("SERVER_MaxPing",{Text="Max Ping (ms)",Min=1,Max=1000,Default=200,Rounding=0})local S={"Lowest Players","Lowest Ping","Random"}R:AddDropdown("SERVER_Filter",{Text="Filter",Values=S,Default="Lowest Ping",Multi=false})local function T()local U=f.SERVER_Filter and f.SERVER_Filter.Value or"Lowest Ping"if U=="Lowest Players"then return"lowest_player"elseif U=="Random"then return"random"else return"lowest_ping"end end;local function V()local H=tonumber(f.SERVER_MaxPlayers and f.SERVER_MaxPlayers.Value)or nil;local W=tonumber(f.SERVER_MaxPing and f.SERVER_MaxPing.Value)or nil;local X=T()local y,Y=o(X,H,W)if not y then e:Notify("[Server Hop] Failed: "..tostring(Y),4)else e:Notify("[Server Hop] "..tostring(Y),4)end end;R:AddButton({Text="Server Hop Once",Func=function()V()end})R:AddSlider("SERVER_AutoHopInterval",{Text="Auto Hop Interval (s)",Min=1,Max=600,Default=60,Rounding=0,Suffix="s"})local Z=false;local function _()Z=false end;local function a0()if Z then return end;Z=true;task.spawn(function()while Z and g.SERVER_AutoHop and g.SERVER_AutoHop.Value do local H=tonumber(f.SERVER_MaxPlayers and f.SERVER_MaxPlayers.Value)or nil;local W=tonumber(f.SERVER_MaxPing and f.SERVER_MaxPing.Value)or nil;local X=T()local y,Y=o(X,H,W)if not y then e:Notify("[Auto Hop] Failed: "..tostring(Y),4)else e:Notify("[Auto Hop] "..tostring(Y),4)end;local a1=tonumber(f.SERVER_AutoHopInterval and f.SERVER_AutoHopInterval.Value)or 60;a1=math.clamp(a1,1,600)local a2=0;while a2<a1 do if not Z or not(g.SERVER_AutoHop and g.SERVER_AutoHop.Value)then break end;task.wait(0.5)a2=a2+0.5 end end end)end;R:AddToggle("SERVER_AutoHop",{Text="Enable Auto Hop",Default=false,Tooltip="Automatically hops to a new server every interval using the selected filter."}):OnChanged(function(a3)if a3 then a0()else _()end end)R:AddButton({Text="Rejoin Server",Func=function()e:Notify("Attempting to rejoin current server...",3)local y,Q=pcall(function()l(game.PlaceId,game.JobId)end)if not y then e:Notify("[Rejoin] Failed: "..tostring(Q),4)end end})R:AddButton({Text="Copy Join Script",Func=function()local a4=([[local ReplicatedStorage = game:GetService("ReplicatedStorage")
local DataEvent = ReplicatedStorage:WaitForChild("Events"):WaitForChild("DataEvent")
DataEvent:FireServer("ServerTeleport", "%s", 14)]]):format(game.JobId)setclipboard(a4)e:Notify("Join script copied!",3)end})local a5=c.Misc:AddRightGroupbox("Console","code")a5:AddButton({Text="Console",Func=function()e:Notify("Launched console.",3)loadstring(game:HttpGet("https://raw.githubusercontent.com/whodunitwww/noxhelpers/refs/heads/main/console.lua"))()end})local a6=c.Misc:AddRightGroupbox("Performance HUD","gauge")local a7={gui=nil,conn=nil,fpsSmooth=60,scale=1}local function a8()local y,a9=pcall(function()return rawget(getfenv(),"gethui")and gethui()or b.CoreGui or game:GetService("CoreGui")end)return y and a9 or b.Players.LocalPlayer:WaitForChild("PlayerGui")end;local function aa()if a7.conn then a7.conn:Disconnect()a7.conn=nil end;if a7.gui then a7.gui:Destroy()a7.gui=nil end end;local function ab()aa()local ac=a8()local ad=Instance.new("ScreenGui")ad.Name="CerberusHUD"ad.ResetOnSpawn=false;ad.IgnoreGuiInset=true;ad.ZIndexBehavior=Enum.ZIndexBehavior.Sibling;ad.Parent=ac;a7.gui=ad;local ae=Instance.new("Frame")ae.Name="Holder"ae.AnchorPoint=Vector2.new(1,0)ae.Position=UDim2.new(1,-20,0,20)ae.Size=UDim2.fromOffset(320,100)ae.BackgroundColor3=Color3.fromRGB(29,30,36)ae.BackgroundTransparency=0.05;ae.Active=true;ae.Parent=ad;local af=Instance.new("UICorner",ae)af.CornerRadius=UDim.new(0,18)local ag=Instance.new("UIStroke",ae)ag.Thickness=2;ag.Transparency=0.3;ag.Color=Color3.fromRGB(92,94,104)local ah=Instance.new("ImageLabel")ah.Name="Shadow"ah.BackgroundTransparency=1;ah.Image="rbxassetid://5028857084"ah.ImageTransparency=0.6;ah.ScaleType=Enum.ScaleType.Slice;ah.SliceCenter=Rect.new(24,24,276,276)ah.Size=UDim2.new(1,24,1,24)ah.Position=UDim2.new(0,-12,0,-12)ah.ZIndex=0;ah.Parent=ae;local ai=Instance.new("Frame")ai.Name="Left"ai.BackgroundTransparency=1;ai.Size=UDim2.new(0.65,0,1,-20)ai.Position=UDim2.new(0,20,0,10)ai.Parent=ae;local aj=Instance.new("UIListLayout",ai)aj.FillDirection=Enum.FillDirection.Vertical;aj.VerticalAlignment=Enum.VerticalAlignment.Center;aj.Padding=UDim.new(0,12)local function ak(al)local i=Instance.new("Frame")i.BackgroundTransparency=1;i.Size=UDim2.new(1,0,0,34)local am=Instance.new("TextLabel")am.Name="Title"am.BackgroundTransparency=1;am.Font=Enum.Font.Gotham;am.Text=al;am.TextColor3=Color3.fromRGB(172,175,185)am.TextSize=16;am.TextXAlignment=Enum.TextXAlignment.Left;am.Size=UDim2.new(0.5,0,1,0)am.Parent=i;local U=Instance.new("TextLabel")U.Name="Value"U.BackgroundTransparency=1;U.Font=Enum.Font.GothamSemibold;U.Text="--"U.TextColor3=Color3.fromRGB(238,239,244)U.TextSize=28;U.TextXAlignment=Enum.TextXAlignment.Left;U.Position=UDim2.new(0.5,0,0,0)U.Size=UDim2.new(0.5,0,1,0)U.Parent=i;return i,U end;local an,ao=ak("FPS")an.Parent=ai;local ap,aq=ak("Ping")ap.Parent=ai;local ar=Instance.new("ImageLabel")ar.Name="Icon"ar.BackgroundTransparency=1;ar.AnchorPoint=Vector2.new(1,0.5)ar.Position=UDim2.new(1,-24,0.5,0)ar.Size=UDim2.fromOffset(56,56)ar.Image="rbxassetid://136497541793809"ar.ImageColor3=Color3.fromRGB(55,235,120)ar.Parent=ae;local as,at,au;ae.InputBegan:Connect(function(av)if av.UserInputType==Enum.UserInputType.MouseButton1 or av.UserInputType==Enum.UserInputType.Touch then as,at,au=true,av.Position,ae.Position;av.Changed:Connect(function()if av.UserInputState==Enum.UserInputState.End then as=false end end)end end)ae.InputChanged:Connect(function(av)if as and(av.UserInputType==Enum.UserInputType.MouseMovement or av.UserInputType==Enum.UserInputType.Touch)then local aw=av.Position-at;ae.Position=UDim2.new(au.X.Scale,au.X.Offset+aw.X,au.Y.Scale,au.Y.Offset+aw.Y)end end)local ax=game:GetService("Stats")local ay=ax and ax.Network and ax.Network.ServerStatsItem and ax.Network.ServerStatsItem["Data Ping"]a7.conn=b.RunService.RenderStepped:Connect(h(function(az)local aA=az>0 and 1/az or 60;a7.fpsSmooth=a7.fpsSmooth+(aA-a7.fpsSmooth)*0.2;ao.Text=string.format("%d",math.clamp(math.floor(a7.fpsSmooth+0.5),1,1000))local aB;if ay and ay.GetValue then local y,U=pcall(function()return ay:GetValue()end)if y and type(U)=="number"then aB=math.floor(U+0.5)end end;if not aB and ay and ay.GetValueString then local y,aC=pcall(function()return ay:GetValueString()end)if y and type(aC)=="string"then aB=tonumber(aC:match("(%d+)"))end end;aq.Text=aB and aB.." ms"or"--"end))end;a6:AddToggle("HUD_Enable",{Text="Show FPS + Ping",Tooltip="Can only show up to 60 fps",Default=false,Callback=function(a3)if a3 then ab()else aa()end end})a6:AddSlider("HUD_Scale",{Text="HUD Scale",Default=90,Min=70,Max=150,Rounding=0,Suffix="%",Callback=function(U)a7.scale=U/100;if a7.gui and a7.gui:FindFirstChild("Holder")then local ae=a7.gui.Holder;ae.Size=UDim2.fromOffset(320*a7.scale,100*a7.scale)for E,aD in ipairs(ae:GetDescendants())do if aD:IsA("TextLabel")then if aD.Name=="Title"then aD.TextSize=16*a7.scale elseif aD.Name=="Value"then aD.TextSize=28*a7.scale end end end end end})local aE=c.Misc:AddRightGroupbox("Environment","trees")local aF,aG=false,Color3.fromRGB(128,128,128)local aH=b.Lighting and b.Lighting.Ambient or Color3.new()local aI,aJ,aK=false,b.Lighting and b.Lighting.ClockTime or 12,nil;local function aL()if b.Lighting then b.Lighting.Ambient=aF and aG or aH end end;aE:AddToggle("ENV_Ambient",{Text="Custom Ambient",Default=false,Tooltip="Choose your own custom ambient color.",Callback=function(U)aF=U;aL()end})aE:AddLabel("Ambient Color"):AddColorPicker("ENV_AmbientColor",{Default=aG,Title="Ambient Color",Callback=function(aM)aG=aM;if aF then aL()end end})aE:AddToggle("ENV_TimeLock",{Text="Custom Time of Day",Default=false,Callback=function(a3)aI=a3;if a3 then if b.Lighting then b.Lighting.ClockTime=aJ end;if not aK then aK=b.RunService.RenderStepped:Connect(h(function()if b.Lighting then b.Lighting.ClockTime=aJ end end))end;e:Notify("Time of Day locked.",3)else if aK then aK:Disconnect()aK=nil end;e:Notify("Time of Day unlocked.",3)end end})aE:AddSlider("ENV_Time",{Text="Time of Day",Default=aJ,Min=0,Max=24,Rounding=2,Suffix="h",Callback=function(U)aJ=U;if aI and b.Lighting then b.Lighting.ClockTime=U end end})local function aN()if aK then aK:Disconnect()aK=nil end;if b.Lighting then b.Lighting.Ambient=aH end end;local aO=c.Misc:AddRightGroupbox("Auto Chat","message-circle")local aP;local aQ=false;aO:AddToggle("autoChatEnabled",{Text="Auto Chat",Default=false,Callback=function(aR)aQ=aR;if aR then task.spawn(function()while aQ do local Y=f.autoChatMessage.Value;local a1=tonumber(f.autoChatInterval.Value)or 5;if Y and Y:match("%S")then local aS=game:GetService("TextChatService").TextChannels:FindFirstChild("RBXGeneral")if aS then pcall(function()aS:SendAsync(Y)end)end else e:Notify("Your message can't be empty.",3)aQ=false;g.autoChatEnabled:SetValue(false)break end;task.wait(a1)end end)else end end})aO:AddInput("autoChatMessage",{Default="Hello Everyone!",Numeric=false,Finished=false,ClearTextOnFocus=true,Text="Message",Callback=function(aT)end})aO:AddSlider("autoChatInterval",{Text="Chat Interval (s)",Default=10,Min=1,Max=120,Rounding=1,Suffix="s",Callback=function(aT)end})local aU=b.TextChatService;local aV=b.CoreGui;local aW=b.Players.LocalPlayer;local aX={enabled=false,selected={["Hide Own Name"]=false,["Hide Others Names"]=false,["Hide Own Skin"]=false,["Hide Others Skins"]=false},_cons={},_chatConn=nil,_legacyChatConns={},_uiLoop=nil,_uiScrub=nil,_nameDDT={},_skin={},_nameCache={},_descAddedConn=nil}local function aY(aZ)return typeof(aZ)=="Instance"and aZ.Parent~=nil end;local function a_(b0)local aM=b0 and b0.Character;if aY(aM)then return aM end;return nil end;local function b1(ac,b2)if not aY(ac)then return nil end;local y,x=pcall(function()return ac:FindFirstChildOfClass(b2)end)if y and aY(x)then return x end;return nil end;local function b3(ac,b4)if not aY(ac)then return nil end;local y,x=pcall(function()return ac:FindFirstChild(b4)end)if y and aY(x)then return x end;return nil end;local function b5(b6)local b7=b1(b6,"Humanoid")if b7 and b7.Health>0 then return b7 end;return nil end;local function b8(aC)return aC:gsub("([^%w])","%%%1")end;local function b9(b0,ba)local b6=a_(b0)local bb=b5(b6)if not bb then return end;local bc=b0.UserId;if ba then if aX._nameDDT[bc]==nil then aX._nameDDT[bc]=bb.DisplayDistanceType end;bb.DisplayDistanceType=Enum.HumanoidDisplayDistanceType.None else bb.DisplayDistanceType=aX._nameDDT[bc]or Enum.HumanoidDisplayDistanceType.Viewer end end;local function bd(b0)if not b0 then return end;local bc=b0.UserId;if not aX._nameCache[bc]then aX._nameCache[bc]={Name=b0.Name,Display=b0.DisplayName}end end;local function be(b0)if not b0 then return end;bd(b0)pcall(function()b0.Name="???"end)pcall(function()b0.DisplayName="???"end)end;local function bf(b0)if not b0 then return end;local bc=b0.UserId;local bg=aX._nameCache[bc]if not bg then return end;pcall(function()b0.Name=bg.Name end)pcall(function()b0.DisplayName=bg.Display end)end;local function bh()local bi={}local bj=aX.selected["Hide Own Name"]local bk=aX.selected["Hide Others Names"]if not(bj or bk)then return bi end;local function bl(bm)if bm and bm~=""then bi[bm]="???"end end;for E,bn in ipairs(b.Players:GetPlayers())do local bo=bn==aW;if bo and bj or not bo and bk then local bc=bn.UserId;local bp=aX._nameCache[bc]if bp then bl(bp.Name)bl(bp.Display)bl("@"..bp.Name)bl("@"..bp.Display)else bl(bn.Name)bl(bn.DisplayName)bl("@"..bn.Name)bl("@"..bn.DisplayName)end end end;return bi end;local function bq(br,bi)if not br or br==""then return br end;local bs=br;for bt,bu in pairs(bi)do bs=bs:gsub(b8(bt),bu)end;return bs end;local function bv(bw,bi)if bw:IsA("TextLabel")or bw:IsA("TextButton")or bw:IsA("TextBox")then if bw.Text and#bw.Text>0 then local bx=bq(bw.Text,bi)if bx~=bw.Text then bw.Text=bx end end end end;local function by()if aX._uiScrub then aX._uiScrub:Disconnect()end;local am=0;aX._uiScrub=b.RunService.RenderStepped:Connect(function(az)if not aX.enabled then return end;am=am+az;if am<0.25 then return end;am=0;local bi=bh()if next(bi)==nil then return end;local function bz(bA)if not aY(bA)then return end;for E,bB in ipairs(bA:GetDescendants())do if bB:IsA("TextLabel")or bB:IsA("TextButton")or bB:IsA("TextBox")then bv(bB,bi)elseif bB:IsA("BillboardGui")then for E,bC in ipairs(bB:GetDescendants())do if bC:IsA("TextLabel")then bv(bC,bi)end end end end end;bz(aV)if aW and aY(aW)then local bD=b3(aW,"PlayerGui")if bD then bz(bD)end end end)if aX._descAddedConn then aX._descAddedConn:Disconnect()end;aX._descAddedConn=game.DescendantAdded:Connect(function(bE)if not aX.enabled then return end;local bi=bh()if next(bi)==nil then return end;pcall(function()if bE:IsA("TextLabel")or bE:IsA("TextButton")or bE:IsA("TextBox")then bv(bE,bi)elseif bE:IsA("BillboardGui")then for E,bC in ipairs(bE:GetDescendants())do if bC:IsA("TextLabel")then bv(bC,bi)end end end end)end)end;local function bF()if aX._uiScrub then aX._uiScrub:Disconnect()end;aX._uiScrub=nil;if aX._descAddedConn then aX._descAddedConn:Disconnect()end;aX._descAddedConn=nil end;local function bG(b0)if not b0 then return end;aX._skin[b0.UserId]=nil end;local function bH(b0,b6)if not(b0 and aY(b6))then return end;local bc=b0.UserId;if aX._skin[bc]then return end;local bI={acc={},shirt=nil,pants=nil,tshirt=nil,colors=nil}for E,aZ in ipairs(b6:GetChildren())do if aZ:IsA("Accessory")then table.insert(bI.acc,aZ)end end;bI.shirt=b1(b6,"Shirt")bI.pants=b1(b6,"Pants")bI.tshirt=b1(b6,"ShirtGraphic")local bJ=b1(b6,"BodyColors")if bJ then bI.colors={Head=bJ.HeadColor3,LA=bJ.LeftArmColor3,RA=bJ.RightArmColor3,LL=bJ.LeftLegColor3,RL=bJ.RightLegColor3,Torso=bJ.TorsoColor3}end;aX._skin[bc]=bI end;local function bK(b0)local b6=a_(b0)if not b6 then return end;bH(b0,b6)for E,aZ in ipairs(b6:GetChildren())do if aZ:IsA("Accessory")and aY(aZ)then aZ.Parent=nil end end;local aC=b1(b6,"Shirt")local bn=b1(b6,"Pants")local am=b1(b6,"ShirtGraphic")if aC then aC.Parent=nil end;if bn then bn.Parent=nil end;if am then am.Parent=nil end;local bJ=b1(b6,"BodyColors")if bJ then local bL=Color3.fromRGB(130,130,130)pcall(function()bJ.HeadColor3=bL;bJ.LeftArmColor3=bL;bJ.RightArmColor3=bL;bJ.LeftLegColor3=bL;bJ.RightLegColor3=bL;bJ.TorsoColor3=bL end)end end;local function bM(b0)local b6=a_(b0)if not b6 then return end;local bI=aX._skin[b0.UserId]if not bI then return end;if bI.shirt and bI.shirt.Parent==nil then bI.shirt.Parent=b6 end;if bI.pants and bI.pants.Parent==nil then bI.pants.Parent=b6 end;if bI.tshirt and bI.tshirt.Parent==nil then bI.tshirt.Parent=b6 end;for E,bN in ipairs(bI.acc)do if aY(bN)and bN.Parent==nil then bN.Parent=b6 end end;local bJ=b1(b6,"BodyColors")if bJ and bI.colors then pcall(function()bJ.HeadColor3=bI.colors.Head;bJ.LeftArmColor3=bI.colors.LA;bJ.RightArmColor3=bI.colors.RA;bJ.LeftLegColor3=bI.colors.LL;bJ.RightLegColor3=bI.colors.RL;bJ.TorsoColor3=bI.colors.Torso end)end end;local function bO(b0)if not aX.enabled then return end;local bo=b0==aW;local bP=aX.selected["Hide Own Name"]local bQ=aX.selected["Hide Others Names"]if bo and bP or not bo and bQ then be(b0)b9(b0,true)else bf(b0)b9(b0,false)end;local bR=aX.selected["Hide Own Skin"]local bS=aX.selected["Hide Others Skins"]if bo and bR or not bo and bS then bK(b0)else bM(b0)end end;local function bT()local function bU(b0)bf(b0)b9(b0,false)bM(b0)end;if aW then bU(aW)end;for E,bn in ipairs(b.Players:GetPlayers())do if bn~=aW then bU(bn)end end end;local function bV()if not aX.enabled then bT()return end;if aW then bO(aW)end;for E,bn in ipairs(b.Players:GetPlayers())do if bn~=aW then bO(bn)end end end;local function bW()if aX._chatConn then aX._chatConn:Disconnect()end;for E,aM in ipairs(aX._legacyChatConns)do pcall(function()aM:Disconnect()end)end;aX._legacyChatConns={}aX._chatConn=nil;if aU and aU.ChatVersion==Enum.ChatVersion.TextChatService then aX._chatConn=aU.OnIncomingMessage:Connect(function(Y)if not(aX.enabled and Y)then return end;local bX=Y.TextSource;if not bX then return end;local b0=b.Players:GetPlayerByUserId(bX.UserId)if not b0 then return end;local bo=b0==aW;local bj=aX.selected["Hide Own Name"]local bk=aX.selected["Hide Others Names"]if bo and bj or not bo and bk then local bY=Instance.new("TextChatMessageProperties")bY.PrefixText="???:"local bi=bh()bY.Text=bq(Y.Text or"",bi)return bY end end)return end;local bZ=b.ReplicatedStorage;local b_=bZ and b3(bZ,"DefaultChatSystemChatEvents")if b_ then local c0=b3(b_,"OnMessageDoneFiltering")if c0 and c0.OnClientEvent then table.insert(aX._legacyChatConns,c0.OnClientEvent:Connect(function(D)if not(aX.enabled and D)then return end;local c1=D.FromSpeaker;local b0=c1 and b.Players:FindFirstChild(c1)if not b0 then return end;local bo=b0==aW;local bj=aX.selected["Hide Own Name"]local bk=aX.selected["Hide Others Names"]if bo and bj or not bo and bk then D.FromSpeaker="???"if D.Message then local bi=bh()D.Message=bq(D.Message,bi)end;D.ExtraData=D.ExtraData or{}end end))end end end;local function c2()for E,aM in ipairs(aX._cons)do pcall(function()aM:Disconnect()end)end;aX._cons={}if aX._chatConn then aX._chatConn:Disconnect()end;aX._chatConn=nil;for E,aM in ipairs(aX._legacyChatConns)do pcall(function()aM:Disconnect()end)end;aX._legacyChatConns={}bF()end;local function c3()c2()table.insert(aX._cons,aW.CharacterAdded:Connect(function()bG(aW)task.defer(bV)end))table.insert(aX._cons,b.Players.PlayerAdded:Connect(function(b0)table.insert(aX._cons,b0.CharacterAdded:Connect(function()bG(b0)task.defer(function()bO(b0)end)end))if b0.Character then bG(b0)task.defer(function()bO(b0)end)end end))for E,b0 in ipairs(b.Players:GetPlayers())do if b0~=aW then table.insert(aX._cons,b0.CharacterAdded:Connect(function()bG(b0)task.defer(function()bO(b0)end)end))if b0.Character then bG(b0)task.defer(function()bO(b0)end)end end end;bW()by()end;local c4=c.Misc:AddLeftGroupbox("Streamer Mode","video")local c5={"Hide Own Name","Hide Others Names","Hide Own Skin","Hide Others Skins"}c4:AddDropdown("streamer_mode_options",{Text="Affects",Values=c5,Multi=true,Default={},AllowNull=true,Callback=function(c6)for c7 in pairs(aX.selected)do aX.selected[c7]=false end;if typeof(c6)=="table"then local c8=false;for c7,U in pairs(c6)do if type(U)=="boolean"then c8=true;if U and aX.selected[c7]~=nil then aX.selected[c7]=true end end end;if not c8 then for E,U in ipairs(c6)do if aX.selected[U]~=nil then aX.selected[U]=true end end end end;if aX.enabled then bV()end end})c4:AddToggle("streamer_mode_toggle",{Text="Enable Streamer Mode",Default=false,Callback=function(a3)aX.enabled=a3;if a3 then e:Notify("Please open the roblox menu briefly for the best results.",3)c3()bV()else bV()c2()end end})local c9=c.Misc:AddLeftGroupbox("Spectate","view")local ca,cb,cc,cd;local ce=c9:AddDropdown("SpectateTarget",{Values={},Default=nil,Multi=false,Text="Select Player"})c9:AddButton({Text="Refresh Players",Func=function()local am={}for E,cf in ipairs(b.Players:GetPlayers())do if cf~=d.player then am[#am+1]=cf.Name end end;ce:SetValues(am)end})local cg=c9:AddToggle("SpectateEnabled",{Text="Spectate Player",Default=false})local function ch()if ca then ca:Disconnect()ca=nil end;cb=nil;if d.humanoid then d.camera.CameraSubject=d.humanoid end end;local function ci(cj)ch()cb=cj;if not cb then return end;ca=b.RunService.RenderStepped:Connect(h(function()local b6=cb.Character;if b6 and b6:FindFirstChild("Humanoid")then d.camera.CameraSubject=b6:FindFirstChild("Humanoid")else ch()cg:SetValue(false)end end))end;cg:OnChanged(function()if cg.Value then local b4=ce.Value;local cj=b4 and b.Players:FindFirstChild(b4)if cj then ci(cj)else e:Notify("Select a player to spectate.",3)cg:SetValue(false)end else ch()end end)ce:OnChanged(function(b4)if cg.Value then local cj=b4 and b.Players:FindFirstChild(b4)if cj then ci(cj)end end end)cc=b.Players.PlayerAdded:Connect(function()local am={}for E,cf in ipairs(b.Players:GetPlayers())do if cf~=d.player then am[#am+1]=cf.Name end end;ce:SetValues(am)end)cd=b.Players.PlayerRemoving:Connect(function(ck)local am={}for E,cf in ipairs(b.Players:GetPlayers())do if cf~=d.player and cf~=ck then am[#am+1]=cf.Name end end;ce:SetValues(am)if cb==ck then cg:SetValue(false)end end)do local am={}for E,cf in ipairs(b.Players:GetPlayers())do if cf~=d.player then am[#am+1]=cf.Name end end;ce:SetValues(am)end;j.SmartServerHop=o;function j.Unload()_()aa()aN()ch()if cc then cc:Disconnect()cc=nil end;if cd then cd:Disconnect()cd=nil end;if g.SERVER_AutoHop and g.SERVER_AutoHop.Value then g.SERVER_AutoHop:SetValue(false)end;aQ=false;if g.autoChatEnabled and g.autoChatEnabled.Value then g.autoChatEnabled:SetValue(false)end;if aX.enabled then aX.enabled=false;pcall(c2)pcall(bT)end;if g.streamer_mode_toggle and g.streamer_mode_toggle.Value then g.streamer_mode_toggle:SetValue(false)end end;return j end
