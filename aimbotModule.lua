return function(a)local b,c,d,e=a.Services,a.References,a.Tabs,a.Library;local f,g,h,i=b.Players,b.Workspace,b.RunService,b.UserInputService;local j=getgenv()local function k()return c.camera or b.Workspace.CurrentCamera end;j.AimbotEnabled=j.AimbotEnabled~=nil and j.AimbotEnabled or false;j.AimKey=j.AimKey or Enum.KeyCode.Q;j.FOV=j.FOV or 80;j.FOVColor=j.FOVColor or Color3.fromRGB(0,255,0)j.FOVCircleVisible=j.FOVCircleVisible~=nil and j.FOVCircleVisible or false;j.Smoothness=j.Smoothness or 0.25;j.Prediction=j.Prediction or 0;j.DropCompensation=j.DropCompensation or 0;j.TargetParts=j.TargetParts or{"Head"}j.TargetTypes=j.TargetTypes or{"Players"}j.WallCheck=j.WallCheck~=nil and j.WallCheck or false;j.TeamCheck=j.TeamCheck~=nil and j.TeamCheck or false;j.MobileAutoAim=j.MobileAutoAim~=nil and j.MobileAutoAim or false;j.ShowAimLine=j.ShowAimLine~=nil and j.ShowAimLine or false;j.FOVCircle=j.FOVCircle or Drawing.new("Circle")j.FOVCircle.Thickness,j.FOVCircle.Filled=1,false;j.AimLine=j.AimLine or Drawing.new("Line")j.AimLine.Color,j.AimLine.Thickness,j.AimLine.Visible=Color3.fromRGB(255,0,0),1,false;j.CurrentHighlight=j.CurrentHighlight or Instance.new("Highlight")do local l=j.CurrentHighlight;l.Name="AimbotTargetHighlight"l.FillColor,l.OutlineColor=Color3.new(1,0,0),Color3.new(0,0,0)l.DepthMode=Enum.HighlightDepthMode.AlwaysOnTop;l.FillTransparency,l.OutlineTransparency=0.25,0;l.Adornee,l.Enabled=nil,false;local m=gethui and gethui()or game:GetService("CoreGui")if l.Parent~=m then l.Parent=m end end;local function n()local o=k()if not o then return end;local p=o.ViewportSize;j.FOVCircle.Position=Vector2.new(p.X*0.5,p.Y*0.5)j.FOVCircle.Radius=j.FOV;j.FOVCircle.Color=j.FOVColor;j.FOVCircle.Visible=j.FOVCircleVisible end;local function q(r)if not j.WallCheck then return true end;local o=k()if not o then return false end;local s=o.CFrame.Position;local t=r.Position-s;local u=RaycastParams.new()u.FilterType=Enum.RaycastFilterType.Exclude;u.FilterDescendantsInstances={c.character}local v=g:Raycast(s,t,u)return not v or v.Instance and v.Instance:IsDescendantOf(r.Parent)end;local function w()if i.TouchEnabled then return j.MobileAutoAim end;if typeof(j.AimKey)~="EnumItem"then return false end;return i:IsKeyDown(j.AimKey)or i:IsMouseButtonPressed(Enum.UserInputType.MouseButton2)end;local function x()local y={}local z=table.find(j.TargetTypes,"Players")~=nil;local A=table.find(j.TargetTypes,"NPCs")~=nil;if z then for B,C in ipairs(f:GetPlayers())do if C~=c.player and C.Character then y[#y+1]=C.Character end end end;if A then local D=g:FindFirstChild("NPCS")or g:FindFirstChild("NPCs")if D then for B,E in ipairs(D:GetDescendants())do if E:IsA("Model")and E:FindFirstChildOfClass("Humanoid")then y[#y+1]=E end end end end;return y end;local function F()local o=k()if not o then return nil end;local G=j.FOVCircle.Position;local H=j.TargetParts[1]local I,J;for B,K in ipairs(x())do local l=K:FindFirstChildOfClass("Humanoid")if l and l.Health>0 then if not j.TeamCheck or(function()local L=f:GetPlayerFromCharacter(K)return not(L and c.player.Team and L.Team and L.Team==c.player.Team)end)()then local r=K:FindFirstChild(H)or K:FindFirstChild("HumanoidRootPart")if r then local M,N=o:WorldToViewportPoint(r.Position)if N then local O=(Vector2.new(M.X,M.Y)-G).Magnitude;if O<=j.FOV and(not J or O<J)and q(r)then I,J=K,O end end end end end end;return I end;local function P(K)local o=k()if not o then return end;local r=K:FindFirstChild(j.TargetParts[1])or K:FindFirstChild("HumanoidRootPart")if not r then return end;local Q=r.AssemblyLinearVelocity or r.Velocity or Vector3.zero;local R=o.CFrame.Position;local S=r.Position+Q*j.Prediction;local T=(S-R).Magnitude;local U=Vector3.new(0,T/100*j.DropCompensation,0)local V=S+U;o.CFrame=o.CFrame:Lerp(CFrame.new(R,V),math.clamp(j.Smoothness,0.01,1))if j.ShowAimLine then local p=o.ViewportSize;j.AimLine.From=Vector2.new(p.X*0.5,p.Y)local W=o:WorldToViewportPoint(V)j.AimLine.To=Vector2.new(W.X,W.Y)j.AimLine.Visible=true else j.AimLine.Visible=false end end;local X=h.RenderStepped:Connect(n)local Y=h.RenderStepped:Connect(function()if not j.AimbotEnabled then j.CurrentHighlight.Enabled,j.CurrentHighlight.Adornee=false,nil;j.AimLine.Visible=false;return end;local Z=F()if Z then j.CurrentHighlight.Adornee=Z;j.CurrentHighlight.Enabled=true;if w()then P(Z)else j.AimLine.Visible=false end else j.CurrentHighlight.Enabled,j.CurrentHighlight.Adornee=false,nil;j.AimLine.Visible=false end end)local _=g:GetPropertyChangedSignal("CurrentCamera"):Connect(n)local a0=d.Combat:AddLeftGroupbox("Aimbot","crosshair")a0:AddToggle("AB_AimbotEnabled",{Text="Enable Aimbot",Default=j.AimbotEnabled,Callback=function(p)j.AimbotEnabled=p end})a0:AddToggle("AB_MobileAutoAim",{Text="Mobile Auto Aim",Default=j.MobileAutoAim,Callback=function(p)j.MobileAutoAim=p end})a0:AddToggle("AB_ShowAimLine",{Text="Show Aim Line",Default=j.ShowAimLine,Callback=function(p)j.ShowAimLine=p;j.AimLine.Visible=false end})a0:AddDropdown("AB_TargetTypes",{Text="Target Types",Values={"Players","NPCs"},Default=j.TargetTypes,Multi=true,Callback=function(a1)j.TargetTypes=a1 end})a0:AddDropdown("AB_TargetParts",{Text="Target Part",Values={"Head","HumanoidRootPart","UpperTorso","LowerTorso","Torso"},Default=j.TargetParts[1],Callback=function(a2)j.TargetParts={a2}end})a0:AddToggle("AB_TeamCheck",{Text="Team Check",Default=j.TeamCheck,Callback=function(p)j.TeamCheck=p end})a0:AddToggle("AB_WallCheck",{Text="Wall Check",Default=j.WallCheck,Callback=function(p)j.WallCheck=p end})a0:AddLabel("FOV Circle Color"):AddColorPicker("FOVColorPicker",{Default=j.FOVColor,Title="FOV Circle Color",Callback=function(o)j.FOVColor=o;j.FOVCircle.Color=o end})a0:AddToggle("AB_ShowFOVCircle",{Text="Show FOV Circle",Default=j.FOVCircleVisible,Callback=function(p)j.FOVCircleVisible=p;j.FOVCircle.Visible=p end})a0:AddSlider("AB_FOVRadius",{Text="FOV Radius",Default=j.FOV,Min=20,Max=300,Rounding=0,Callback=function(p)j.FOV=p;j.FOVCircle.Radius=p end})a0:AddSlider("AB_Smoothness",{Text="Smoothness",Default=j.Smoothness,Min=0.01,Max=1,Rounding=2,Callback=function(p)j.Smoothness=p end})a0:AddSlider("AB_Prediction",{Text="Prediction",Default=j.Prediction,Min=0,Max=0.5,Rounding=2,Callback=function(p)j.Prediction=p end})a0:AddSlider("AB_DropCompensation",{Text="Drop Compensation",Default=j.DropCompensation,Min=0,Max=5,Rounding=2,Callback=function(p)j.DropCompensation=p end})a0:AddLabel("Aim Key"):AddKeyPicker("AB_AimKey",{Default=j.AimKey and j.AimKey.Name or"Q",NoUI=false,Text="Hold/Press to Aim",ChangedCallback=function(a3)j.AimKey=a3 end})local function a4()if Y then Y:Disconnect()end;if X then X:Disconnect()end;if _ then _:Disconnect()end;j.FOVCircle.Visible=false;j.AimLine.Visible=false;if j.CurrentHighlight then j.CurrentHighlight.Enabled=false;j.CurrentHighlight.Adornee=nil end end;_G.stopAimbot=a4;return a4 end
