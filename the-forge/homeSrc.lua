return function(a)local b=a.Services;local c=a.Tabs;local d=a.References;local e=a.Library;local f=a.Options;local g=a.Toggles;local h=a.META or{}local i=a.copyLink;local j=a.SendDiscordWebhook;local k={}local function l(m)if m then k[#k+1]=m end;return m end;local n,o;local p,q;local r=c.Home:AddLeftGroupbox(h.name or"Cerberus","info")r:AddDivider()r:AddLabel(("Script Version: %s"):format(h.version or"v1.0.0"))r:AddLabel(("Last Updated: %s"):format(h.updated or"Unknown"))r:AddLabel("Status: "..(h.status or"Stable Release"))r:AddDivider()local s=h.urls or{}local t=c.Home:AddLeftGroupbox("Links","link")if i and s.docs then t:AddButton({Text="Cerberus Docs",Tooltip=s.docs,Func=function()i(s.docs,"Docs link copied!")end})end;if i and s.website then t:AddButton({Text="Website",Tooltip=s.website,Func=function()i(s.website,"Website link copied!")end})end;if i and s.discord then t:AddButton({Text="Discord",Tooltip=s.discord,Func=function()i(s.discord,"Discord invite copied!")end})end;if i and s.youtube then t:AddButton({Text="Youtube",Tooltip=s.youtube,Func=function()i(s.youtube,"Youtube link copied!")end})end;if i and s.scripts then t:AddButton({Text="More Scripts",Tooltip=s.scripts,Func=function()i(s.scripts,"Scripts link copied!")end})end;if i and s.bunni then t:AddButton({Text="Premier Executor",Tooltip=s.bunni,Func=function()i(s.bunni,"Bunni link copied!")end})end;local u=c.Home:AddLeftGroupbox("Executor","codesandbox")local function v()local function w(x)local y=string.find(x,".",1,true)if y then local z,A=x:sub(1,y-1),x:sub(y+1)local B;if getgenv then B=rawget(getgenv(),z)end;if B==nil then B=rawget(_G,z)end;if B==nil and getrenv then B=rawget(getrenv(),z)end;if type(B)=="table"then return rawget(B,A)end;return nil end;local C;if getgenv then C=rawget(getgenv(),x)end;if C==nil then C=rawget(_G,x)end;if C==nil and getrenv then C=rawget(getrenv(),x)end;return C end;local D={"makefolder","isfile","readfile","writefile","sethiddenproperty","setclipboard","identifyexecutor","setfpscap","gethui","server_desync","http_request","request","syn.request"}local E,F=#D,0;local G={}for H=1,E do local x=D[H]local C=w(x)local I=x=="gethui"and C~=nil or type(C)=="function"if I then F=F+1 else G[#G+1]=x end end;local J=tostring(d.executorName or""):lower()local K=J:find("xeno",1,true)~=nil;local L;if F==E then if K then local M="Xeno detected: ESP will not work due to weak drawing API."e:Notify(M,6)L=M else L="Full support"end else local N=string.format("Your executor does not fully support this script, %d/%d required functions available.\nMissing: %s",F,E,table.concat(G,", "))e:Notify(N,6)L=string.format("Partial support: %d/%d required functions.",F,E)if K then L=L.."\nNote: ESP will not work due to weak drawing API (Xeno)."e:Notify("Xeno detected: ESP will not work due to weak drawing API.",6)end end;return L end;u:AddLabel("Executor: "..tostring(d.executorName or"Unknown"),true)u:AddLabel(v(),true)local O=b.Players or game:GetService("Players")local P=b.RunService or game:GetService("RunService")local Q=b.HttpService;local R=O.LocalPlayer;local S={WebhookURL="",WebhookColor=Color3.fromRGB(54,150,45),WebhookAnon=false,WH_EventSelection={}}local function T(U)if typeof(U)~="Color3"then return{r=54,g=150,b=45}end;return{r=math.floor(U.R*255+0.5),g=math.floor(U.G*255+0.5),b=math.floor(U.B*255+0.5)}end;local function V(C)if typeof(C)=="Color3"then return C end;if type(C)=="table"and tonumber(C.r)and tonumber(C.g)and tonumber(C.b)then return Color3.fromRGB(C.r,C.g,C.b)end;return Color3.fromRGB(54,150,45)end;local function W(X)if type(X)~="table"then return{}end;local Y,Z={},{}for A,_ in pairs(X)do if _==true then if not Z[A]then table.insert(Y,A)Z[A]=true end elseif type(_)=="string"then if not Z[_]then table.insert(Y,_)Z[_]=true end end end;return Y end;if isfile and isfile(d.gameDir.."/__WebhookDefaults.json")then local I,a0=pcall(function()return Q:JSONDecode(readfile(d.gameDir.."/__WebhookDefaults.json"))end)if I and type(a0)=="table"then S.WebhookURL=a0.WebhookURL or S.WebhookURL;S.WebhookColor=V(a0.WebhookColor)S.WebhookAnon=a0.WebhookAnon or S.WebhookAnon;S.WH_EventSelection=W(a0.WH_EventSelection or S.WH_EventSelection)end end;local a1="Launch"local a2="InventoryChange"local a3="Chat"local a4="PlayerJoinLeave"local a5="GoldChange"local a6={a1,a2,a3,a4,a5}local a7=c.Home:AddLeftGroupbox("Webhook","send")a7:AddInput("WebhookURL",{Text="Default Webhook",Default=S.WebhookURL,Placeholder="https://discord.com/api/webhooks/...",ClearTextOnFocus=false})a7:AddLabel("Default Color"):AddColorPicker("WebhookColor",{Title="Default Color",Default=S.WebhookColor,Transparency=0})a7:AddToggle("WebhookAnon",{Text="Anonymize User Data",Default=S.WebhookAnon})a7:AddDropdown("WH_EventSelection",{Text="Reported Events",Values=a6,Default=S.WH_EventSelection,Multi=true,Tooltip="Select which events you want to send to your webhook."})local function a8()local U=f.WebhookColor and f.WebhookColor.Value or Color3.fromRGB(54,150,45)local a9,aa,ab=math.floor(U.R*255),math.floor(U.G*255),math.floor(U.B*255)return a9*65536+aa*256+ab end;local function ac(ad)local ae=f.WH_EventSelection and f.WH_EventSelection.Value;if type(ae)~="table"then return false end;if ae[ad]==true then return true end;for af,C in pairs(ae)do if C==ad then return true end end;return false end;local ag=false;local function ah(ad,ai,aj,ak,al,am)local an=f.WebhookURL and f.WebhookURL.Value or""if not an:match("https://discord.com/api/webhooks/")then if not ag then ag=true end;return end;if not ac(ad)then return end;local ao=al or a8 and a8()or 3577389;local ap=g.WebhookAnon and g.WebhookAnon.Value or false;local aq=ak or"Cerberus Webhook"task.spawn(function()pcall(j,an,ai,aj,aq,ao,am,ap)end)end;do local function ar()if not writefile then return end;local a0={WebhookURL=f.WebhookURL and f.WebhookURL.Value or"",WebhookColor=T(f.WebhookColor and f.WebhookColor.Value or S.WebhookColor),WebhookAnon=g.WebhookAnon and g.WebhookAnon.Value or false,WH_EventSelection=W(f.WH_EventSelection and f.WH_EventSelection.Value)}pcall(function()writefile(d.gameDir.."/__WebhookDefaults.json",Q:JSONEncode(a0))end)end;if not(isfile and isfile(d.gameDir.."/__WebhookDefaults.json"))then ar()end;for af,as in ipairs({"WebhookURL","WebhookColor","WH_EventSelection"})do if f[as]then f[as]:OnChanged(ar)end end;if g.WebhookAnon then g.WebhookAnon:OnChanged(ar)end end;do local function at(au)if not au then return"Unknown"end;local av=au.DisplayName or au.Name;if av~=au.Name then return string.format("%s (%s)",av,au.Name)end;return au.Name end;n={}p=os.clock()local aw=10;local ax=20;local ay=1900;local function az()if not ac(a3)then table.clear(n)return end;if#n==0 then return end;local aA={}local aB=0;local aC=0;local function aD()if#aA==0 then return end;local aE=table.concat(aA,"\n")ah(a3,"Chat Log",aE)aA={}aB=0;aC=0 end;for af,aF in ipairs(n)do local aG=#aF+1;if aC>=ax or aB+aG>ay then aD()end;table.insert(aA,aF)aB=aB+aG;aC=aC+1 end;aD()table.clear(n)end;local function aH(au)if not au then return end;l(au.Chatted:Connect(function(N)if not ac(a3)then return end;N=tostring(N or"")if#N>256 then N=N:sub(1,253).."..."end;local aF=string.format("**%s**: %s",at(au),N)table.insert(n,aF)end))end;for af,au in ipairs(O:GetPlayers())do aH(au)end;l(O.PlayerAdded:Connect(function(au)aH(au)end))l(O.PlayerAdded:Connect(function(au)if au==R then return end;if not ac(a4)then return end;local aE=string.format("**%s** joined the server.",at(au))ah(a4,"Player Joined",aE)end))l(O.PlayerRemoving:Connect(function(au)if au==R then return end;if not ac(a4)then return end;local aE=string.format("**%s** left the server.",at(au))ah(a4,"Player Left",aE)end))o={}q=os.clock()local aI=15;local aJ=40;local aK=1900;local function aL()local aM=R and R:FindFirstChild("PlayerGui")local aN=aM and aM:FindFirstChild("Menu")local aO=aN and aN:FindFirstChild("Frame")local aP=aO and aO:FindFirstChild("Frame")local aQ=aP and aP:FindFirstChild("Menus")local aR=aQ and aQ:FindFirstChild("Stash")return aR and aR:FindFirstChild("Background")end;local function aS()local aT={}local aU=aL()if not aU then return aT end;for af,aV in ipairs(aU:GetChildren())do if aV:IsA("Frame")then local aW=aV.Name;local aX=aV:FindFirstChild("Main")local aY=aX and aX:FindFirstChild("Quantity")local aZ=1;if aY and aY:IsA("TextLabel")then local M=tostring(aY.Text or""):gsub("%s+","")if M~=""then local a_=M:match("x(%d+)")or M:match("(%d+)")aZ=tonumber(a_)or 1 end end;if aZ>0 then aT[aW]=aZ end end end;return aT end;local b0=aS()local b1=os.clock()local b2=2;local function b3(b4,b5,b6)for x,b7 in pairs(b5)do local b8=b4[x]or 0;if b7>b8 then table.insert(b6,string.format("+ %dx %s (Stash)",b7-b8,x))end end;for x,b8 in pairs(b4)do local b7=b5[x]or 0;if b7<b8 then table.insert(b6,string.format("- %dx %s (Stash)",b8-b7,x))end end end;local function b9()if not ac(a2)then b0=aS()return end;local ba=b0;local bb=aS()local bc={}b3(ba,bb,bc)b0=bb;if#bc==0 then return end;for H,aF in ipairs(bc)do if H>aJ then table.insert(o,string.format("... %d more change(s)",#bc-aJ))break end;table.insert(o,aF)end end;local function bd()if not ac(a2)then table.clear(o)return end;if#o==0 then return end;local be=string.format("**%s** stash changes:",at(R))local bf={"```diff"}for H,bg in ipairs(o)do if H>aJ then table.insert(bf,string.format("# ... %d more change(s)",#o-aJ))break end;table.insert(bf,bg)end;table.insert(bf,"```")local aE=be.."\n"..table.concat(bf,"\n")if#aE>aK then aE=aE:sub(1,aK-3).."..."end;ah(a2,"Stash Changes",aE)table.clear(o)end;local bh={}local bi=os.clock()local bj=os.clock()local bk=nil;local bl=1.5;local bm=15;local bn=30;local bo=1900;local function bp()local I,bq=pcall(function()local aM=R and R:FindFirstChild("PlayerGui")local aX=aM and aM:FindFirstChild("Main")local br=aX and aX:FindFirstChild("Screen")local bs=br and br:FindFirstChild("Hud")return bs and bs:FindFirstChild("Gold")end)if I then return bq end end;local function bt()local bu=bp()if not(bu and bu:IsA("TextLabel"))then return nil end;local bv=tostring(bu.Text or"")bv=bv:gsub("[%$,]","")local bw=tonumber(bv)return bw end;local function bx()if not ac(a5)then bk=bt()or bk;return end;local by=bt()if not by then return end;if bk==nil then bk=by;return end;if by~=bk then local bz=by-bk;local bA=bz>0 and"+"or""local aF=string.format("%s%.2f ( %.2f -> %.2f )",bA,bz,bk,by)table.insert(bh,aF)bk=by end end;local function bB()if not ac(a5)then table.clear(bh)return end;if#bh==0 then return end;local be=string.format("**%s** gold changes:",at(R))local bC={"```diff"}for H,aF in ipairs(bh)do if H>bn then table.insert(bC,string.format("# ... %d more change(s)",#bh-bn))break end;table.insert(bC,aF)end;table.insert(bC,"```")local aE=be.."\n"..table.concat(bC,"\n")if#aE>bo then aE=aE:sub(1,bo-3).."..."end;ah(a5,"Gold Changes",aE)table.clear(bh)end;l(P.Heartbeat:Connect(function()local bD=os.clock()if bD-p>=aw then p=bD;az()end;if bD-b1>=b2 then b1=bD;b9()end;if bD-q>=aI then q=bD;bd()end;if bD-bj>=bl then bj=bD;bx()end;if bD-bi>=bm then bi=bD;bB()end end))end;local bE=c.Home:AddRightGroupbox("Latest Updates","sparkles")bE:AddLabel("Changelogs:",true)local bF=h.changelog or{"Added Auto Proximity Prompt","Added Zoom","Added Custom Cursor Builder","Added Emotes","Improved ESP"}bE:AddLabel("• "..table.concat(bF,"\n• "),true)local bG=c.Home:AddRightGroupbox("Feedback","quote")local bH=false;bG:AddInput("feedbackTextbox",{Text="Message",Default=nil,Numeric=false,Finished=false,ClearTextOnFocus=true,Placeholder="Write a message to the dev team here.",Callback=function(af)end})bG:AddButton("Send Feedback",function()if bH then e:Notify("You've already sent feedback, you can come back another time and send some more later.",5)return end;local N=f.feedbackTextbox and f.feedbackTextbox.Value;if N and N~=""then if j then j("https://discord.com/api/webhooks/1430125097129214003/mHA_d9XyFaRTfGM9Enf7jZgso358XRmmCFiuwGs6ZO-vws0qPdRLKQH19zRWJ5kZC7hW",d.player.Name.." has provided feedback.",N,"Cerberus Feedback",nil,nil,false)e:Notify("Your feedback has successfully been sent to the developers!",5)bH=true else e:Notify("Feedback webhook function not available.",3)end else e:Notify("You need to type your feedback into the box above before you can send it.",3)end end)local bI=c.Home:AddRightGroupbox("Credits + Disclaimer","shield-alert")bI:AddLabel("Script by @tevilii")bI:AddLabel("Obsidian UI Library by deivid")if i and s.obsidian then bI:AddButton({Text="Obsidian Library",Tooltip=s.obsidian,Func=function()i(s.obsidian,"Obsidian link copied!")end})end;bI:AddDivider()bI:AddLabel("This script is provided for educational and customization purposes. ".."Respect Roblox and game TOS. You are responsible for your usage.",true)ah("Launch","Cerberus Initialized",string.format("**Join Script:**\n```lua\ngame:GetService(\"TeleportService\"):TeleportToPlaceInstance(%d, \"%s\", game.Players.LocalPlayer)```%s",game.PlaceId,game.JobId,math.random(1,5)==1 and"\n*Join our Discord for the best scripts! https://getcerberus.com/discord*"or""))local bJ={}function bJ.Unload()for H,m in ipairs(k)do if m and m.Disconnect then pcall(function()m:Disconnect()end)end;k[H]=nil end;if n then table.clear(n)end;if o then table.clear(o)end;local bD=os.clock()p=bD;q=bD end;return bJ end
