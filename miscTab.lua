return function(a)local b=a.Services;local c=a.Tabs;local d=a.References;local e=a.Library;local f=a.Options;local g=a.Toggles;local h=a.LPH_NO_VIRTUALIZE or function(i)return i end;local j=c.Misc:AddRightGroupbox("Console","code")j:AddButton({Text="Console",Func=function()e:Notify("Launched console.",3)loadstring(game:HttpGet("https://raw.githubusercontent.com/whodunitwww/noxhelpers/refs/heads/main/console.lua"))()end})local k=c.Misc:AddRightGroupbox("Performance HUD","gauge")local l={gui=nil,conn=nil,fpsSmooth=60,scale=1}local function m()local n,o=pcall(function()return rawget(getfenv(),"gethui")and gethui()or b.CoreGui or game:GetService("CoreGui")end)return n and o or b.Players.LocalPlayer:WaitForChild("PlayerGui")end;local function p()if l.conn then l.conn:Disconnect()l.conn=nil end;if l.gui then l.gui:Destroy()l.gui=nil end end;local function q()p()local r=m()local s=Instance.new("ScreenGui")s.Name="CerberusHUD"s.ResetOnSpawn=false;s.IgnoreGuiInset=true;s.ZIndexBehavior=Enum.ZIndexBehavior.Sibling;s.Parent=r;l.gui=s;local t=Instance.new("Frame")t.Name="Holder"t.AnchorPoint=Vector2.new(1,0)t.Position=UDim2.new(1,-20,0,20)t.Size=UDim2.fromOffset(320,100)t.BackgroundColor3=Color3.fromRGB(29,30,36)t.BackgroundTransparency=0.05;t.Active=true;t.Parent=s;local u=Instance.new("UICorner",t)u.CornerRadius=UDim.new(0,18)local v=Instance.new("UIStroke",t)v.Thickness=2;v.Transparency=0.3;v.Color=Color3.fromRGB(92,94,104)local w=Instance.new("ImageLabel")w.Name="Shadow"w.BackgroundTransparency=1;w.Image="rbxassetid://5028857084"w.ImageTransparency=0.6;w.ScaleType=Enum.ScaleType.Slice;w.SliceCenter=Rect.new(24,24,276,276)w.Size=UDim2.new(1,24,1,24)w.Position=UDim2.new(0,-12,0,-12)w.ZIndex=0;w.Parent=t;local x=Instance.new("Frame")x.Name="Left"x.BackgroundTransparency=1;x.Size=UDim2.new(0.65,0,1,-20)x.Position=UDim2.new(0,20,0,10)x.Parent=t;local y=Instance.new("UIListLayout",x)y.FillDirection=Enum.FillDirection.Vertical;y.VerticalAlignment=Enum.VerticalAlignment.Center;y.Padding=UDim.new(0,12)local function z(A)local i=Instance.new("Frame")i.BackgroundTransparency=1;i.Size=UDim2.new(1,0,0,34)local B=Instance.new("TextLabel")B.Name="Title"B.BackgroundTransparency=1;B.Font=Enum.Font.Gotham;B.Text=A;B.TextColor3=Color3.fromRGB(172,175,185)B.TextSize=16;B.TextXAlignment=Enum.TextXAlignment.Left;B.Size=UDim2.new(0.5,0,1,0)B.Parent=i;local C=Instance.new("TextLabel")C.Name="Value"C.BackgroundTransparency=1;C.Font=Enum.Font.GothamSemibold;C.Text="--"C.TextColor3=Color3.fromRGB(238,239,244)C.TextSize=28;C.TextXAlignment=Enum.TextXAlignment.Left;C.Position=UDim2.new(0.5,0,0,0)C.Size=UDim2.new(0.5,0,1,0)C.Parent=i;return i,C end;local D,E=z("FPS")D.Parent=x;local F,G=z("Ping")F.Parent=x;local H=Instance.new("ImageLabel")H.Name="Icon"H.BackgroundTransparency=1;H.AnchorPoint=Vector2.new(1,0.5)H.Position=UDim2.new(1,-24,0.5,0)H.Size=UDim2.fromOffset(56,56)H.Image="rbxassetid://136497541793809"H.ImageColor3=Color3.fromRGB(55,235,120)H.Parent=t;local I,J,K;t.InputBegan:Connect(function(L)if L.UserInputType==Enum.UserInputType.MouseButton1 or L.UserInputType==Enum.UserInputType.Touch then I,J,K=true,L.Position,t.Position;L.Changed:Connect(function()if L.UserInputState==Enum.UserInputState.End then I=false end end)end end)t.InputChanged:Connect(function(L)if I and(L.UserInputType==Enum.UserInputType.MouseMovement or L.UserInputType==Enum.UserInputType.Touch)then local M=L.Position-J;t.Position=UDim2.new(K.X.Scale,K.X.Offset+M.X,K.Y.Scale,K.Y.Offset+M.Y)end end)local N=game:GetService("Stats")local O=N and N.Network and N.Network.ServerStatsItem and N.Network.ServerStatsItem["Data Ping"]l.conn=b.RunService.RenderStepped:Connect(h(function(P)local Q=P>0 and 1/P or 60;l.fpsSmooth=l.fpsSmooth+(Q-l.fpsSmooth)*0.2;E.Text=string.format("%d",math.clamp(math.floor(l.fpsSmooth+0.5),1,1000))local R;if O and O.GetValue then local n,C=pcall(function()return O:GetValue()end)if n and type(C)=="number"then R=math.floor(C+0.5)end end;if not R and O and O.GetValueString then local n,S=pcall(function()return O:GetValueString()end)if n and type(S)=="string"then R=tonumber(S:match("(%d+)"))end end;G.Text=R and R.." ms"or"--"end))end;k:AddToggle("HUD_Enable",{Text="Show FPS + Ping",Tooltip="Can only show up to 60 fps",Default=false,Callback=function(T)if T then q()else p()end end})k:AddSlider("HUD_Scale",{Text="HUD Scale",Default=90,Min=70,Max=150,Rounding=0,Suffix="%",Callback=function(C)l.scale=C/100;if l.gui and l.gui:FindFirstChild("Holder")then local t=l.gui.Holder;t.Size=UDim2.fromOffset(320*l.scale,100*l.scale)for U,V in ipairs(t:GetDescendants())do if V:IsA("TextLabel")then if V.Name=="Title"then V.TextSize=16*l.scale elseif V.Name=="Value"then V.TextSize=28*l.scale end end end end end})local W=c.Misc:AddLeftGroupbox("Server Panel","server")local function X(Y)local Z=("https://games.roblox.com/v1/games/%d/servers/Public?sortOrder=Asc&limit=100%s"):format(game.PlaceId,Y and"&cursor="..b.HttpService:UrlEncode(Y)or"")local n,_=pcall(function()return b.HttpService:JSONDecode(game:HttpGet(Z))end)return n and _ or nil end;W:AddButton({Text="Rejoin Server",Func=function()e:Notify("Rejoining server...",1)if game.PlaceId and game.JobId and d.player then b.TeleportService:TeleportToPlaceInstance(game.PlaceId,game.JobId,d.player)else e:Notify("Rejoin failed: missing ids",4)end end})W:AddButton({Text="Join Random Server",Func=function()e:Notify("Joining random server...",1)local Y=nil;for U=1,5 do local _=X(Y)if not _ or not _.data then break end;local a0={}for U,a1 in ipairs(_.data)do if a1.id~=game.JobId and a1.playing<a1.maxPlayers then table.insert(a0,a1)end end;if#a0>0 then local a2=a0[math.random(1,#a0)]return b.TeleportService:TeleportToPlaceInstance(game.PlaceId,a2.id,d.player)end;Y=_.nextPageCursor;if not Y then break end end;e:Notify("Couldn't find an available server.",5)end})W:AddButton({Text="Join Lowest Server",Func=function()e:Notify("Joining lowest server...",1)local Y,a3,a4=nil,nil,math.huge;for U=1,6 do local _=X(Y)if not _ or not _.data then break end;for U,a1 in ipairs(_.data)do if a1.id~=game.JobId and a1.playing<a1.maxPlayers and a1.playing<a4 then a3,a4=a1,a1.playing end end;Y=_.nextPageCursor;if not Y then break end end;if a3 then b.TeleportService:TeleportToPlaceInstance(game.PlaceId,a3.id,d.player)else e:Notify("No suitable server with fewer players.",5)end end})W:AddButton({Text="Copy Join Script",Func=function()if setclipboard then pcall(setclipboard,("game:GetService('TeleportService'):TeleportToPlaceInstance(%d,%q,game.Players.LocalPlayer)\n"):format(game.PlaceId,game.JobId))e:Notify("Copied current-server join script.",4)else e:Notify("Clipboard not available.",4)end end})W:AddDivider()local a5={enabled=false,thread=nil}local function a6()a5.enabled=false;a5.thread=nil;if g.SERVER_AutoHop then pcall(function()g.SERVER_AutoHop:SetValue(false)end)end end;local function a7()if a5.thread then return end;a5.enabled=true;a5.thread=task.spawn(function()while a5.enabled and g.SERVER_AutoHop and g.SERVER_AutoHop.Value do local a8=math.max(1,f.SERVER_HopDelay and f.SERVER_HopDelay.Value or 60)local a9=0;while a9<a8 and a5.enabled and g.SERVER_AutoHop.Value do task.wait(1)a9=a9+1 end;if not(a5.enabled and g.SERVER_AutoHop.Value)then break end;local aa=math.max(0,math.floor(f.SERVER_MinPlayers and f.SERVER_MinPlayers.Value or 0))local Y,a2=nil,nil;for U=1,6 do local _=X(Y)if not _ or not _.data then break end;local a0={}for U,a1 in ipairs(_.data)do if a1.id~=game.JobId and a1.playing<a1.maxPlayers and a1.playing>=aa then a0[#a0+1]=a1 end end;if#a0>0 then a2=a0[math.random(1,#a0)]break end;Y=_.nextPageCursor;if not Y then break end end;if a2 and game.PlaceId and d.player then e:Notify(("Auto-hop: joining %s (%d/%d)"):format(a2.id,a2.playing,a2.maxPlayers),3)b.TeleportService:TeleportToPlaceInstance(game.PlaceId,a2.id,d.player)else e:Notify("Auto-hop: no suitable server found; retrying after delay.",3)end end;a5.thread=nil end)end;local ab=W:AddToggle("SERVER_AutoHop",{Text="Auto Hop",Default=false})W:AddSlider("SERVER_HopDelay",{Text="Hop Delay (s)",Default=180,Min=5,Max=600,Rounding=0,Tooltip="Seconds to wait between hops"})W:AddSlider("SERVER_MinPlayers",{Text="Minimum Players",Default=3,Min=0,Max=20,Rounding=0,Tooltip="Only join servers with at least this many players"})ab:OnChanged(function()if not game.PlaceId or not d.player then e:Notify("Cannot auto-hop: missing PlaceId/LocalPlayer.",5)pcall(function()g.SERVER_AutoHop:SetValue(false)end)return end;if g.SERVER_AutoHop.Value then a7()else a6()end end)local ac=c.Misc:AddRightGroupbox("Environment","trees")local ad,ae=false,Color3.fromRGB(128,128,128)local af=b.Lighting and b.Lighting.Ambient or Color3.new()local ag,ah,ai=false,b.Lighting and b.Lighting.ClockTime or 12,nil;local function aj()if b.Lighting then b.Lighting.Ambient=ad and ae or af end end;ac:AddToggle("ENV_Ambient",{Text="Custom Ambient",Default=false,Tooltip="Choose your own custom ambient color.",Callback=function(C)ad=C;aj()end})ac:AddLabel("Ambient Color"):AddColorPicker("ENV_AmbientColor",{Default=ae,Title="Ambient Color",Callback=function(ak)ae=ak;if ad then aj()end end})ac:AddToggle("ENV_TimeLock",{Text="Custom Time of Day",Default=false,Callback=function(T)ag=T;if T then if b.Lighting then b.Lighting.ClockTime=ah end;if not ai then ai=b.RunService.RenderStepped:Connect(h(function()if b.Lighting then b.Lighting.ClockTime=ah end end))end;e:Notify("Time of Day locked.",3)else if ai then ai:Disconnect()ai=nil end;e:Notify("Time of Day unlocked.",3)end end})ac:AddSlider("ENV_Time",{Text="Time of Day",Default=ah,Min=0,Max=24,Rounding=2,Suffix="h",Callback=function(C)ah=C;if ag and b.Lighting then b.Lighting.ClockTime=C end end})local function al()if ai then ai:Disconnect()ai=nil end;if b.Lighting then b.Lighting.Ambient=af end end;local am=c.Misc:AddRightGroupbox("Auto Chat","message-circle")local an;local ao=false;am:AddToggle("autoChatEnabled",{Text="Auto Chat",Default=false,Callback=function(ap)ao=ap;if ap then task.spawn(function()while ao do local aq=f.autoChatMessage.Value;local ar=tonumber(f.autoChatInterval.Value)or 5;if aq and aq:match("%S")then local as=game:GetService("TextChatService").TextChannels:FindFirstChild("RBXGeneral")if as then pcall(function()as:SendAsync(aq)end)end else e:Notify("Your message can't be empty.",3)ao=false;g.autoChatEnabled:SetValue(false)break end;task.wait(ar)end end)else end end})am:AddInput("autoChatMessage",{Default="Hello Everyone!",Numeric=false,Finished=false,ClearTextOnFocus=true,Text="Message",Callback=function(at)end})am:AddSlider("autoChatInterval",{Text="Chat Interval (s)",Default=10,Min=1,Max=120,Rounding=1,Suffix="s",Callback=function(at)end})local au=b.TextChatService;local av=b.CoreGui;local aw=b.Players.LocalPlayer;local ax={enabled=false,selected={["Hide Own Name"]=false,["Hide Others Names"]=false,["Hide Own Skin"]=false,["Hide Others Skins"]=false},_cons={},_chatConn=nil,_legacyChatConns={},_uiLoop=nil,_uiScrub=nil,_nameDDT={},_skin={},_nameCache={},_descAddedConn=nil}local function ay(az)return typeof(az)=="Instance"and az.Parent~=nil end;local function aA(aB)local ak=aB and aB.Character;if ay(ak)then return ak end;return nil end;local function aC(r,aD)if not ay(r)then return nil end;local n,_=pcall(function()return r:FindFirstChildOfClass(aD)end)if n and ay(_)then return _ end;return nil end;local function aE(r,aF)if not ay(r)then return nil end;local n,_=pcall(function()return r:FindFirstChild(aF)end)if n and ay(_)then return _ end;return nil end;local function aG(aH)local aI=aC(aH,"Humanoid")if aI and aI.Health>0 then return aI end;return nil end;local function aJ(S)return S:gsub("([^%w])","%%%1")end;local function aK(aB,aL)local aH=aA(aB)local aM=aG(aH)if not aM then return end;local aN=aB.UserId;if aL then if ax._nameDDT[aN]==nil then ax._nameDDT[aN]=aM.DisplayDistanceType end;aM.DisplayDistanceType=Enum.HumanoidDisplayDistanceType.None else aM.DisplayDistanceType=ax._nameDDT[aN]or Enum.HumanoidDisplayDistanceType.Viewer end end;local function aO(aB)if not aB then return end;local aN=aB.UserId;if not ax._nameCache[aN]then ax._nameCache[aN]={Name=aB.Name,Display=aB.DisplayName}end end;local function aP(aB)if not aB then return end;aO(aB)pcall(function()aB.Name="???"end)pcall(function()aB.DisplayName="???"end)end;local function aQ(aB)if not aB then return end;local aN=aB.UserId;local aR=ax._nameCache[aN]if not aR then return end;pcall(function()aB.Name=aR.Name end)pcall(function()aB.DisplayName=aR.Display end)end;local function aS()local aT={}local aU=ax.selected["Hide Own Name"]local aV=ax.selected["Hide Others Names"]if not(aU or aV)then return aT end;local function aW(aX)if aX and aX~=""then aT[aX]="???"end end;for U,aY in ipairs(b.Players:GetPlayers())do local aZ=aY==aw;if aZ and aU or not aZ and aV then local aN=aY.UserId;local a_=ax._nameCache[aN]if a_ then aW(a_.Name)aW(a_.Display)aW("@"..a_.Name)aW("@"..a_.Display)else aW(aY.Name)aW(aY.DisplayName)aW("@"..aY.Name)aW("@"..aY.DisplayName)end end end;return aT end;local function b0(b1,aT)if not b1 or b1==""then return b1 end;local b2=b1;for b3,b4 in pairs(aT)do b2=b2:gsub(aJ(b3),b4)end;return b2 end;local function b5(b6,aT)if b6:IsA("TextLabel")or b6:IsA("TextButton")or b6:IsA("TextBox")then if b6.Text and#b6.Text>0 then local b7=b0(b6.Text,aT)if b7~=b6.Text then b6.Text=b7 end end end end;local function b8()if ax._uiScrub then ax._uiScrub:Disconnect()end;local B=0;ax._uiScrub=b.RunService.RenderStepped:Connect(function(P)if not ax.enabled then return end;B=B+P;if B<0.25 then return end;B=0;local aT=aS()if next(aT)==nil then return end;local function b9(ba)if not ay(ba)then return end;for U,bb in ipairs(ba:GetDescendants())do if bb:IsA("TextLabel")or bb:IsA("TextButton")or bb:IsA("TextBox")then b5(bb,aT)elseif bb:IsA("BillboardGui")then for U,bc in ipairs(bb:GetDescendants())do if bc:IsA("TextLabel")then b5(bc,aT)end end end end end;b9(av)if aw and ay(aw)then local bd=aE(aw,"PlayerGui")if bd then b9(bd)end end end)if ax._descAddedConn then ax._descAddedConn:Disconnect()end;ax._descAddedConn=game.DescendantAdded:Connect(function(be)if not ax.enabled then return end;local aT=aS()if next(aT)==nil then return end;pcall(function()if be:IsA("TextLabel")or be:IsA("TextButton")or be:IsA("TextBox")then b5(be,aT)elseif be:IsA("BillboardGui")then for U,bc in ipairs(be:GetDescendants())do if bc:IsA("TextLabel")then b5(bc,aT)end end end end)end)end;local function bf()if ax._uiScrub then ax._uiScrub:Disconnect()end;ax._uiScrub=nil;if ax._descAddedConn then ax._descAddedConn:Disconnect()end;ax._descAddedConn=nil end;local function bg(aB)if not aB then return end;ax._skin[aB.UserId]=nil end;local function bh(aB,aH)if not(aB and ay(aH))then return end;local aN=aB.UserId;if ax._skin[aN]then return end;local bi={acc={},shirt=nil,pants=nil,tshirt=nil,colors=nil}for U,az in ipairs(aH:GetChildren())do if az:IsA("Accessory")then table.insert(bi.acc,az)end end;bi.shirt=aC(aH,"Shirt")bi.pants=aC(aH,"Pants")bi.tshirt=aC(aH,"ShirtGraphic")local bj=aC(aH,"BodyColors")if bj then bi.colors={Head=bj.HeadColor3,LA=bj.LeftArmColor3,RA=bj.RightArmColor3,LL=bj.LeftLegColor3,RL=bj.RightLegColor3,Torso=bj.TorsoColor3}end;ax._skin[aN]=bi end;local function bk(aB)local aH=aA(aB)if not aH then return end;bh(aB,aH)for U,az in ipairs(aH:GetChildren())do if az:IsA("Accessory")and ay(az)then az.Parent=nil end end;local S=aC(aH,"Shirt")local aY=aC(aH,"Pants")local B=aC(aH,"ShirtGraphic")if S then S.Parent=nil end;if aY then aY.Parent=nil end;if B then B.Parent=nil end;local bj=aC(aH,"BodyColors")if bj then local bl=Color3.fromRGB(130,130,130)pcall(function()bj.HeadColor3=bl;bj.LeftArmColor3=bl;bj.RightArmColor3=bl;bj.LeftLegColor3=bl;bj.RightLegColor3=bl;bj.TorsoColor3=bl end)end end;local function bm(aB)local aH=aA(aB)if not aH then return end;local bi=ax._skin[aB.UserId]if not bi then return end;if bi.shirt and bi.shirt.Parent==nil then bi.shirt.Parent=aH end;if bi.pants and bi.pants.Parent==nil then bi.pants.Parent=aH end;if bi.tshirt and bi.tshirt.Parent==nil then bi.tshirt.Parent=aH end;for U,bn in ipairs(bi.acc)do if ay(bn)and bn.Parent==nil then bn.Parent=aH end end;local bj=aC(aH,"BodyColors")if bj and bi.colors then pcall(function()bj.HeadColor3=bi.colors.Head;bj.LeftArmColor3=bi.colors.LA;bj.RightArmColor3=bi.colors.RA;bj.LeftLegColor3=bi.colors.LL;bj.RightLegColor3=bi.colors.RL;bj.TorsoColor3=bi.colors.Torso end)end end;local function bo(aB)if not ax.enabled then return end;local aZ=aB==aw;local bp=ax.selected["Hide Own Name"]local bq=ax.selected["Hide Others Names"]if aZ and bp or not aZ and bq then aP(aB)aK(aB,true)else aQ(aB)aK(aB,false)end;local br=ax.selected["Hide Own Skin"]local bs=ax.selected["Hide Others Skins"]if aZ and br or not aZ and bs then bk(aB)else bm(aB)end end;local function bt()local function bu(aB)aQ(aB)aK(aB,false)bm(aB)end;if aw then bu(aw)end;for U,aY in ipairs(b.Players:GetPlayers())do if aY~=aw then bu(aY)end end end;local function bv()if not ax.enabled then bt()return end;if aw then bo(aw)end;for U,aY in ipairs(b.Players:GetPlayers())do if aY~=aw then bo(aY)end end end;local function bw()if ax._chatConn then ax._chatConn:Disconnect()end;for U,ak in ipairs(ax._legacyChatConns)do pcall(function()ak:Disconnect()end)end;ax._legacyChatConns={}ax._chatConn=nil;if au and au.ChatVersion==Enum.ChatVersion.TextChatService then ax._chatConn=au.OnIncomingMessage:Connect(function(aq)if not(ax.enabled and aq)then return end;local bx=aq.TextSource;if not bx then return end;local aB=b.Players:GetPlayerByUserId(bx.UserId)if not aB then return end;local aZ=aB==aw;local aU=ax.selected["Hide Own Name"]local aV=ax.selected["Hide Others Names"]if aZ and aU or not aZ and aV then local by=Instance.new("TextChatMessageProperties")by.PrefixText="???:"local aT=aS()by.Text=b0(aq.Text or"",aT)return by end end)return end;local bz=b.ReplicatedStorage;local bA=bz and aE(bz,"DefaultChatSystemChatEvents")if bA then local bB=aE(bA,"OnMessageDoneFiltering")if bB and bB.OnClientEvent then table.insert(ax._legacyChatConns,bB.OnClientEvent:Connect(function(bC)if not(ax.enabled and bC)then return end;local bD=bC.FromSpeaker;local aB=bD and b.Players:FindFirstChild(bD)if not aB then return end;local aZ=aB==aw;local aU=ax.selected["Hide Own Name"]local aV=ax.selected["Hide Others Names"]if aZ and aU or not aZ and aV then bC.FromSpeaker="???"if bC.Message then local aT=aS()bC.Message=b0(bC.Message,aT)end;bC.ExtraData=bC.ExtraData or{}end end))end end end;local function bE()for U,ak in ipairs(ax._cons)do pcall(function()ak:Disconnect()end)end;ax._cons={}if ax._chatConn then ax._chatConn:Disconnect()end;ax._chatConn=nil;for U,ak in ipairs(ax._legacyChatConns)do pcall(function()ak:Disconnect()end)end;ax._legacyChatConns={}bf()end;local function bF()bE()table.insert(ax._cons,aw.CharacterAdded:Connect(function()bg(aw)task.defer(bv)end))table.insert(ax._cons,b.Players.PlayerAdded:Connect(function(aB)table.insert(ax._cons,aB.CharacterAdded:Connect(function()bg(aB)task.defer(function()bo(aB)end)end))if aB.Character then bg(aB)task.defer(function()bo(aB)end)end end))for U,aB in ipairs(b.Players:GetPlayers())do if aB~=aw then table.insert(ax._cons,aB.CharacterAdded:Connect(function()bg(aB)task.defer(function()bo(aB)end)end))if aB.Character then bg(aB)task.defer(function()bo(aB)end)end end end;bw()b8()end;local bG=c.Misc:AddLeftGroupbox("Streamer Mode")local bH={"Hide Own Name","Hide Others Names","Hide Own Skin","Hide Others Skins"}bG:AddDropdown("streamer_mode_options",{Text="Affects",Values=bH,Multi=true,Default={},AllowNull=true,Callback=function(bI)for bJ in pairs(ax.selected)do ax.selected[bJ]=false end;if typeof(bI)=="table"then local bK=false;for bJ,C in pairs(bI)do if type(C)=="boolean"then bK=true;if C and ax.selected[bJ]~=nil then ax.selected[bJ]=true end end end;if not bK then for U,C in ipairs(bI)do if ax.selected[C]~=nil then ax.selected[C]=true end end end end;if ax.enabled then bv()end end})bG:AddToggle("streamer_mode_toggle",{Text="Enable Streamer Mode",Default=false,Callback=function(T)ax.enabled=T;if T then e:Notify("Please open the roblox menu briefly for the best results.",3)bF()bv()else bv()bE()end end})local bL=c.Misc:AddLeftGroupbox("Spectate","view")local bM,bN,bO,bP;local bQ=bL:AddDropdown("SpectateTarget",{Values={},Default=nil,Multi=false,Text="Select Player"})bL:AddButton({Text="Refresh Players",Func=function()local B={}for U,bR in ipairs(b.Players:GetPlayers())do if bR~=d.player then B[#B+1]=bR.Name end end;bQ:SetValues(B)end})local bS=bL:AddToggle("SpectateEnabled",{Text="Spectate Player",Default=false})local function bT()if bM then bM:Disconnect()bM=nil end;bN=nil;if d.humanoid then d.camera.CameraSubject=d.humanoid end end;local function bU(bV)bT()bN=bV;if not bN then return end;bM=b.RunService.RenderStepped:Connect(h(function()local aH=bN.Character;if aH and aH:FindFirstChild("Humanoid")then d.camera.CameraSubject=aH:FindFirstChild("Humanoid")else bT()bS:SetValue(false)end end))end;bS:OnChanged(function()if bS.Value then local aF=bQ.Value;local bV=aF and b.Players:FindFirstChild(aF)if bV then bU(bV)else e:Notify("Select a player to spectate.",3)bS:SetValue(false)end else bT()end end)bQ:OnChanged(function(aF)if bS.Value then local bV=aF and b.Players:FindFirstChild(aF)if bV then bU(bV)end end end)bO=b.Players.PlayerAdded:Connect(function()local B={}for U,bR in ipairs(b.Players:GetPlayers())do if bR~=d.player then B[#B+1]=bR.Name end end;bQ:SetValues(B)end)bP=b.Players.PlayerRemoving:Connect(function(bW)local B={}for U,bR in ipairs(b.Players:GetPlayers())do if bR~=d.player and bR~=bW then B[#B+1]=bR.Name end end;bQ:SetValues(B)if bN==bW then bS:SetValue(false)end end)do local B={}for U,bR in ipairs(b.Players:GetPlayers())do if bR~=d.player then B[#B+1]=bR.Name end end;bQ:SetValues(B)end;local bX={}function bX.Unload()p()al()bT()if bO then bO:Disconnect()bO=nil end;if bP then bP:Disconnect()bP=nil end;if g.SERVER_AutoHop and g.SERVER_AutoHop.Value then g.SERVER_AutoHop:SetValue(false)end;if a6 then a6()end;ao=false;if g.autoChatEnabled and g.autoChatEnabled.Value then g.autoChatEnabled:SetValue(false)end;if ax.enabled then ax.enabled=false;pcall(bE)pcall(bt)end;if g.streamer_mode_toggle and g.streamer_mode_toggle.Value then g.streamer_mode_toggle:SetValue(false)end end end
