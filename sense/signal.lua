local a={}a.__index=a;function a.new()local self=setmetatable({},a)self._connections={}self._waiting={}return self end;function a:Fire(...)local b={...}local c=select("#",...)for d=#self._connections,1,-1 do local e=self._connections[d]if e._disconnected then table.remove(self._connections,d)else task.spawn(function()e._handler(unpack(b,1,c))end)end end;for d=#self._waiting,1,-1 do local f=table.remove(self._waiting,d)task.spawn(f,unpack(b,1,c))end end;function a:Connect(g)local e={_signal=self,_handler=g,_disconnected=false}function e:Disconnect()e._disconnected=true end;table.insert(self._connections,e)return e end;function a:Wait()table.insert(self._waiting,coroutine.running())return coroutine.yield()end;function a:Destroy()table.clear(self._connections)table.clear(self._waiting)end;return a
